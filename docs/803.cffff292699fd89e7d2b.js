"use strict";(self.webpackChunksatpol_ngx=self.webpackChunksatpol_ngx||[]).push([[803],{7803:(Na,Jt,f)=>{f.d(Jt,{TR:()=>xa,C5:()=>Ut,YN:()=>Nn,MI:()=>Rn,Bk:()=>Pn,eD:()=>da,w3:()=>Vn,Z_:()=>fa,i0:()=>an,Sd:()=>wn,cw:()=>gn,Hj:()=>no});var l=f(3679),s=f(4650),b=f(9790),M=f(1904),p=f(5605),e=f(7716),u=f(3423);let we=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-locale"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})();var F=f(8550);let X=(()=>{class n{getLocale(){return this.locale}setLocale(t){this.locale=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();var y=f(7445),E=f(2258),_=f(6423);let De=(()=>{class n extends p.Ce{constructor(t,o,a){super(t,{localeCode:[],identifier:[]}),this.injector=t,this.router=o,this.localeService=a,this.selectionType=F.RT.single,this.columns=[{name:"Language Code",prop:"localeCode",width:125,frozenLeft:!0},{name:"Language",prop:"identifier",width:275,frozenLeft:!0},{name:"Icon",prop:"icon",width:75,frozenLeft:!0,type:"icon"},{name:"System Default Language",prop:"localeDefault",width:175,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"}],this.expanded=!1,this.apiPath=this.api.master["datatable-locale"],this.filters=[{controlName:"localeCode",type:"input"},{controlName:"identifier",type:"input"}]}ngOnInit(){}onAddGroup(){this.router.navigate(["/app/sysconf/i18n","add"])}onViewDetail(t){this.localeService.setLocale(t),this.router.navigate(["/app/sysconf/i18n","edit"])}onReset(){this.router.navigate(["/app/sysconf/i18n"])}back(){return this.router.navigate(["/app/sysconf/i18n"]),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-locale-list-page"]],features:[e.qOj],decls:7,vars:14,consts:[[3,"header","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","formGroupFilter","filters","delete","selectionType","filterFn","columns","onFilter","onAdd","onEdit"],[3,"formGroup"],["formControlName","localeCode",3,"name","label"],["formControlName","identifier",3,"name","label"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"do-datatable",3),e.NdJ("onFilter",function(i){return o.doFilterAdvanced(i)})("onAdd",function(){return o.onAddGroup()})("onEdit",function(i){return o.onViewDetail(i)}),e.TgZ(4,"form",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-input-text",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","i18n")("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("delete",!1)("selectionType",o.selectionType)("filterFn",o.keyword)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","localeCode")("label","Locale Code"),e.xp6(1),e.Q6J("name","identifier")("label","Identifier"))},directives:[y.e,E.I,l._Y,l.JL,l.sg,_.v,l.JJ,l.u],styles:[""]}),n})();var x=f(3821),h=f(6782),c=f(487),S=f(8583);function Lt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"span",1),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw().choose(i)}),e.qZA()}2&n&&e.Gre("flag-icon flag-icon-",r.$implicit," choose-flag")}let $=(()=>{class n{constructor(t){this.ref=t,this.flags=["ad","ae","af","ag","ai","al","am","ao","aq","ar","as","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","bj","bl","bm","bn","bo","bq","br","bs","bt","bv","bw","by","bz","ca","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","cr","cu","cv","cw","cx","cy","cz","de","dj","dk","dm","do","dz","ec","ee","eg","eh","er","es-ca","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb-eng","gb-nir","gb-sct","gb-wls","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","io","iq","ir","is","it","je","jm","jo","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mf","mg","mh","mk","ml","mm","mn","mo","mp","mq","mr","ms","mt","mu","mv","mw","mx","my","mz","na","nc","ne","nf","ng","ni","nl","no","np","nr","nu","nz","om","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","ss","st","sv","sx","sy","sz","tc","td","tf","tg","th","tj","tk","tl","tm","tn","to","tr","tt","tv","tw","tz","ua","ug","um","un","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","xk","ye","yt","za","zm","zw"]}choose(t){this.ref.close("flag-icon flag-icon-"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.X4l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-dialog-flag"]],decls:6,vars:4,consts:[[3,"class","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"nb-card"),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e.YNc(5,Lt,1,3,"span",0),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"Choose Flag")," "),e.xp6(3),e.Q6J("ngForOf",o.flags))},directives:[s.Asz,s.ndF,s.yKW,S.sg],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   input.deactivated-password[_ngcontent-%COMP%]{max-width:unset;width:100%}.nb-theme-default   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}.nb-theme-default   [_nghost-%COMP%]   button.deactivated-button[_ngcontent-%COMP%]{width:100%}@media (max-width: 767.98px){.nb-theme-default   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.35rem;word-spacing:.15rem}.nb-theme-default   [_nghost-%COMP%]   button.deactivated-button[_ngcontent-%COMP%]{font-size:.6rem}}.nb-theme-default   [_nghost-%COMP%]   .flag-icon[_ngcontent-%COMP%]{margin:.75rem}.nb-theme-default   [_nghost-%COMP%]   .choose-flag[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-dark   [_nghost-%COMP%]   input.deactivated-password[_ngcontent-%COMP%]{max-width:unset;width:100%}.nb-theme-dark   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}.nb-theme-dark   [_nghost-%COMP%]   button.deactivated-button[_ngcontent-%COMP%]{width:100%}@media (max-width: 767.98px){.nb-theme-dark   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.35rem;word-spacing:.15rem}.nb-theme-dark   [_nghost-%COMP%]   button.deactivated-button[_ngcontent-%COMP%]{font-size:.6rem}}.nb-theme-dark   [_nghost-%COMP%]   .flag-icon[_ngcontent-%COMP%]{margin:.75rem}.nb-theme-dark   [_nghost-%COMP%]   .choose-flag[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-cosmic   [_nghost-%COMP%]   input.deactivated-password[_ngcontent-%COMP%]{max-width:unset;width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   button.deactivated-button[_ngcontent-%COMP%]{width:100%}@media (max-width: 767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.35rem;word-spacing:.15rem}.nb-theme-cosmic   [_nghost-%COMP%]   button.deactivated-button[_ngcontent-%COMP%]{font-size:.6rem}}.nb-theme-cosmic   [_nghost-%COMP%]   .flag-icon[_ngcontent-%COMP%]{margin:.75rem}.nb-theme-cosmic   [_nghost-%COMP%]   .choose-flag[_ngcontent-%COMP%]{cursor:pointer}.nb-theme-corporate   [_nghost-%COMP%]   input.deactivated-password[_ngcontent-%COMP%]{max-width:unset;width:100%}.nb-theme-corporate   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}.nb-theme-corporate   [_nghost-%COMP%]   button.deactivated-button[_ngcontent-%COMP%]{width:100%}@media (max-width: 767.98px){.nb-theme-corporate   [_nghost-%COMP%]   p[_ngcontent-%COMP%]{line-height:1.35rem;word-spacing:.15rem}.nb-theme-corporate   [_nghost-%COMP%]   button.deactivated-button[_ngcontent-%COMP%]{font-size:.6rem}}.nb-theme-corporate   [_nghost-%COMP%]   .flag-icon[_ngcontent-%COMP%]{margin:.75rem}.nb-theme-corporate   [_nghost-%COMP%]   .choose-flag[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();var O=f(8520),Y=f(261),R=f(5033),C=f(1992);const Ft=[{path:"",component:we,canActivateChild:[x.Cy],children:[{path:"",component:De,data:{code:"#SYSCONF-I18N-PAGE"}},{path:":action",component:(()=>{class n extends p.o9{constructor(t,o,a,i,d){super(t,{language:[],icon:[],default:[]}),this.injector=t,this.router=o,this.route=a,this.localeService=i,this.dialogService=d,this.action="Add",this.dataDefault=[{id:"default",selected:!1}],this.localeService.getLocale()||"add"===this.route.snapshot.params.action?("edit"===this.route.snapshot.params.action&&(this.action="Edit"),this.apiSelectLanguage=this.api.master["select-language"],this.localeService.getLocale()&&"edit"===this.route.snapshot.params.action&&(this.localeService.getLocale().localeDefault?(this.formGroup.get("default").setValue([{id:"default",selected:!0}]),this.formGroup.get("default").disable()):this.formGroup.get("default").setValue([{id:"default",selected:!1}]),this.formGroup.get("icon").setValue(this.localeService.getLocale().icon),this.formGroup.get("language").setValue(this.localeService.getLocale().identifier),this.formGroup.get("language").disable())):this.router.navigate(["/app/sysconf/i18n"])}ngOnInit(){}onSearchFlag(){this.dialogService.open($).onClose.subscribe(t=>{this.formGroup.get("icon").setValue(t),this.formGroup.get("icon").markAsDirty()})}onReset(){this.router.navigate(["/app/sysconf/i18n"])}onSubmit(){const t=this.formGroup.get("default").value,o={icon:this.formGroup.get("icon").value,localeDefault:!!t,localeCode:this.formGroup.get("language").value.value?this.formGroup.get("language").value.value:this.localeService.getLocale().localeCode,identifier:this.formGroup.get("language").value.label?this.formGroup.get("language").value.label:this.localeService.getLocale().identifier,localeEnabled:!0};super.onSubmit(o,"master","post-locale").pipe((0,h.R)(this.destroy$)).subscribe(a=>{a.respStatusCode===c.Q4.OK_SCR010.toString()&&this.router.navigate(["/app/sysconf/i18n"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(u.gz),e.Y36(X),e.Y36(s.Gln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-locale-add-edit-page"]],features:[e.qOj],decls:8,vars:20,consts:[[3,"header","url"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"formGroup"],["formControlName","language",3,"name","label","required","api"],["formControlName","icon",3,"name","label","required","icon","iconcursor","eva","clickIcon"],["formControlName","default",3,"name","label","data"],["pagefooter","",3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e._UZ(4,"do-select",4),e.TgZ(5,"do-input-icon",5),e.NdJ("clickIcon",function(){return o.onSearchFlag()}),e.qZA(),e._UZ(6,"do-checkbox",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"do-button-submit",7),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header."+o.action+"-i18n")("url","/app/sysconf/i18n"),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","language")("label","Language")("required",!0)("api",o.apiSelectLanguage),e.xp6(1),e.Q6J("name","icon")("label","Icon")("required",!0)("icon","search-outline")("iconcursor",!0)("eva",!0),e.xp6(1),e.Q6J("name","checkbox")("label","System Default Language")("data",o.dataDefault),e.xp6(1),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled))},directives:[y.e,l._Y,l.JL,l.sg,O.r,l.JJ,l.u,l.Q7,Y.g,R.l,C.r],styles:[".reset-left[_ngcontent-%COMP%]{margin-right:.25rem}.submit-right[_ngcontent-%COMP%]{margin-left:.25rem}"]}),n})(),data:{code:"#SYSCONF-I18N-PAGE"}}]}];let Rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(Ft)],u.Bz]}),n})();const Qt=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.j7H.forChild(),M.uX,p.K1,p._s,p.B0,p.Gp,p.DG,p.Qz,Rt],Bt=[X];let Ut=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...Bt],imports:[[...Qt]]}),n})(),Je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-parameter"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})(),z=(()=>{class n{getParameter(){return this.parameter}setParameter(t){this.parameter=t}getParameterGroup(){return this.parameterGroup}setParameterGroup(t){this.parameterGroup=t}getLocales(){return this.locales}setLocales(t){this.locales=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Yt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",8),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",9),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onDelete(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,9,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle","Delete")("resetTitle","Cancel")("disabledButton",o.disabled)}}let W=(()=>{class n extends p.Ce{constructor(t,o,a,i){super(t,{parameterGroupCode:[],parameterGroupName:[]}),this.injector=t,this.router=o,this.parameterService=a,this.dialogService=i,this.columns=[{name:"Parameter Group Code",prop:"parameterGroupCode",width:220,frozenLeft:!0},{name:"Parameter Group Name",prop:"parameterGroupName",width:200,frozenLeft:!0}],this.reload=!1,this.sort={asc:["parameterGroupName"]},this.filters=[{controlName:"parameterGroupCode",type:"input"},{controlName:"parameterGroupName",type:"input"}],this.apiPath=this.api.master["datatable-parameter-group"],this.apiPathLocale=this.api.master["all-locale"],this.apiPathDelete=this.api.master["delete-parameter-group"]}ngOnInit(){this.http.HTTP_AUTH(this.apiPathLocale).subscribe(t=>{this.parameterService.setLocales(t)})}onAddGroup(){this.router.navigate(["/app/sysconf/parameter/group","add"])}onViewDetail(t){this.parameterService.setParameterGroup({parameterGroupCode:t.parameterGroupCode,parameterGroupName:t.parameterGroupName}),this.router.navigate(["/app/sysconf/parameter/detail"])}onDeleteGroup(t,o){this.reload=!1,this.parameterGroupCodes=[],t.forEach(a=>{this.parameterGroupCodes.push(a.parameterGroupCode)}),this.dialogService.open(o,{context:"alert.delete"})}onDelete(t){this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDelete,this.parameterGroupCodes).pipe((0,h.R)(this.destroy$)).subscribe(o=>{t.close(),this.disabled=!1,this.reload=!0,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0)},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(z),e.Y36(s.Gln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-parameter-list-group-page"]],features:[e.qOj],decls:9,vars:13,consts:[[3,"header","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","formGroupFilter","filters","sort","reloadFn","columns","onAdd","onEdit","onDelete"],[3,"formGroup"],["formControlName","parameterGroupCode",3,"name","label"],["formControlName","parameterGroupName",3,"name","label"],["dialogdelete",""],["accent","danger"],[3,"colLabel","colButton","submitTitle","resetTitle","disabledButton","onReset","onSubmit"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"do-datatable",3),e.NdJ("onAdd",function(){return o.onAddGroup()})("onEdit",function(d){return o.onViewDetail(d)})("onDelete",function(d){e.CHM(a);const m=e.MAs(8);return o.onDeleteGroup(d,m)}),e.TgZ(4,"form",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-input-text",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,Yt,9,11,"ng-template",null,7,e.W1O)}2&t&&(e.Q6J("header","Parameter Group")("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("sort",o.sort)("reloadFn",o.reload)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","parameterGroupCode")("label","Parameter Group Code"),e.xp6(1),e.Q6J("name","parameterGroupName")("label","Parameter Group Name"))},directives:[y.e,E.I,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,s.Asz,s.ndF,s.yKW,s.XWE,C.r],pipes:[b.X$],styles:[".reset-left[_ngcontent-%COMP%]{margin-left:1rem;margin-right:.5rem}.submit-right[_ngcontent-%COMP%]{margin-left:.5rem}"]}),n})(),Le=(()=>{class n extends p.o9{constructor(t,o){super(t,{parameterGroupCode:[],parameterGroupName:[]}),this.injector=t,this.router=o}ngOnInit(){}onReset(){this.router.navigate(["/app/sysconf/parameter"])}onSubmit(){super.onSubmit(this.formGroup.value,"master","post-parameter-group").pipe((0,h.R)(this.destroy$)).subscribe(t=>{t.respStatusCode===c.Q4.OK_SCR009.toString()&&this.router.navigate(["/app/sysconf/parameter"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-parameter-add-group-page"]],features:[e.qOj],decls:7,vars:12,consts:[[3,"header"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"formGroup"],["formControlName","parameterGroupCode",3,"name","label","required"],["formControlName","parameterGroupName",3,"name","label","required"],["pagefooter","",3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e._UZ(4,"do-input-text",4),e._UZ(5,"do-input-text",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"do-button-submit",6),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","Add Parameter Group"),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","parameterGroupCode")("label","Parameter Group Code")("required",!0),e.xp6(1),e.Q6J("name","parameterGroupName")("label","Parameter Group Name")("required",!0),e.xp6(1),e.Q6J("submitTitle","Add")("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled))},directives:[y.e,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,C.r],styles:[""]}),n})();class K{}class zt extends K{}const Vt=function(n){return{value:n}};function jt(n,r){1&n&&(e.TgZ(0,"label",12),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Parameter Value")," "))}const Ht=function(n){return{"label-skeleton":!0,skeleton:n}};function Xt(n,r){if(1&n&&(e.TgZ(0,"div",13),e._UZ(1,"div",14),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(1,Ht,t.loadingForm))}}function $t(n,r){if(1&n&&e._UZ(0,"do-input-icon",15),2&n){const t=e.oxw();e.s9C("formControlName",t.localeDefault.localeCode),e.Q6J("name",t.localeDefault.localeCode)("nolabel",!0)("required",!0)("colLabel",0)("colInput",12)("icon","flag-icon flag-icon-"+t.localeDefault.icon)("skeleton",t.loadingForm)}}function Wt(n,r){if(1&n&&e._UZ(0,"do-input-icon",16),2&n){const t=r.$implicit,o=e.oxw();e.s9C("formControlName",t.localeCode),e.Q6J("name",t.localeCode)("nolabel",!0)("icon","flag-icon flag-icon-"+t.icon)("skeleton",o.loadingForm)}}const Kt=[{path:"",component:Je,canActivateChild:[x.Cy],children:[{path:"",component:W,data:{code:"#SYSCONF-PARAMETER-PAGE"}},{path:"group",component:W,data:{code:"#SYSCONF-PARAMETER-PAGE"}},{path:"group/:action",component:Le,data:{code:"#SYSCONF-PARAMETER-PAGE"}},{path:"detail",component:(()=>{class n extends p.Ce{constructor(t,o,a){super(t,{parameterCode:[]},{parameterGroupCode:[],parameterGroupName:[]}),this.injector=t,this.router=o,this.parameterService=a,this.selectionType=F.RT.single,this.columns=[{name:"Parameter Code",prop:"parameterCode",width:350,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"}],this.parameterGroup=new K,this.expanded=!1,this.sort={asc:["parameterCode"]},this.parameterService.getParameterGroup()?(this.apiPath=this.api.master["datatable-parameter"],this.filters=[{controlName:"parameterCode",type:"input"}],this.parameterGroup=this.parameterService.getParameterGroup(),this.keyword={parameterGroupCode:this.parameterGroup.parameterGroupCode},this.formGroup.get("parameterGroupCode").setValue(this.parameterGroup.parameterGroupCode),this.formGroup.get("parameterGroupName").setValue(this.parameterGroup.parameterGroupName)):this.router.navigate(["/app/sysconf/parameter"])}ngOnInit(){}onAddGroup(t){this.parameterService.setParameter(null),this.router.navigate(["/app/sysconf/parameter/detail","add"])}onViewDetail(t){this.parameterService.setParameter({parameterGroupCode:t.parameterGroupCode,parameterGroupName:t.parameterGroupName,parameterCode:t.parameterCode}),this.router.navigate(["/app/sysconf/parameter/detail","edit"])}onReset(){this.router.navigate(["/app/sysconf/parameter"])}onSubmit(){super.onSubmit(this.formGroup.value,"master","post-parameter-group")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-parameter-list-detail-page"]],features:[e.qOj],decls:12,vars:28,consts:[[3,"header","url","isCollapsed"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"formGroup"],["formControlName","parameterGroupName",3,"name","label","required"],["pagefooter","",3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"],[3,"url","header","param","hidefooter"],[3,"api","formGroupFilter","filters","sort","delete","selectionType","filterFn","columns","onFilter","onAdd","onEdit"],["formControlName","parameterCode",3,"name","label"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e._UZ(4,"do-input-text",4),e.qZA(),e.qZA(),e.qZA(),e.TgZ(5,"do-button-submit",5),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA(),e.TgZ(6,"do-page-outlet",6),e.TgZ(7,"div",1),e.TgZ(8,"div",2),e.TgZ(9,"do-datatable",7),e.NdJ("onFilter",function(i){return o.doFilterAdvanced(i)})("onAdd",function(i){return o.onAddGroup(i)})("onEdit",function(i){return o.onViewDetail(i)}),e.TgZ(10,"form",3),e._UZ(11,"do-input-text",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","Edit Parameter Group")("url","/app/sysconf/parameter")("isCollapsed",!0),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","parameterGroupName")("label","Parameter Group Name")("required",!0),e.xp6(1),e.Q6J("submitTitle","Edit")("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled),e.xp6(1),e.Q6J("url","/app/sysconf/parameter")("header","header.parameter")("param",e.VKq(26,Vt,o.parameterGroup.parameterGroupName))("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("sort",o.sort)("delete",!1)("selectionType",o.selectionType)("filterFn",o.keyword)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","parameterCode")("label","Parameter Code"))},directives:[y.e,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,C.r,E.I],styles:[".reset-left[_ngcontent-%COMP%]{margin-right:.25rem}.submit-right[_ngcontent-%COMP%]{margin-left:.25rem}.parameter-expanded[_ngcontent-%COMP%]{position:absolute;right:0;padding:0 1.75rem;cursor:pointer}"]}),n})(),data:{code:"#SYSCONF-PARAMETER-PAGE"}},{path:"detail/:action",component:(()=>{class n extends p.o9{constructor(t,o,a,i){super(t,{parameterCode:[],"en-US":[],"id-ID":[]}),this.injector=t,this.router=o,this.parameterService=a,this.route=i,this.action="Add",this.parameter=new zt,this.parameterGroup=new K,this.allLocales=[],this.locales=[],this.localeDefault=new c.b5,this.isEdit=!1,this.parameterService.getParameterGroup()?(this.parameterGroup=this.parameterService.getParameterGroup(),"edit"===this.route.snapshot.params.action&&(this.parameterService.getParameter()?(this.action="Edit",this.isEdit=!0,this.parameter=this.parameterService.getParameter()):this.router.navigate(["/app/sysconf/parameter"])),this.parameterService.getLocales()?this.splitLocale(this.parameterService.getLocales()):(this.apiPathLocale=this.api.master["all-locale"],this.http.HTTP_AUTH(this.apiPathLocale).subscribe(d=>{this.parameterService.setLocales(d),this.splitLocale(d)})),this.isEdit&&(this.formGroup.get("parameterCode").setValue(this.parameter.parameterCode),this.formGroup.get("parameterCode").disable({emitEvent:!0}),this.apiPathParameterI18n=this.api.master["all-parameter-i18n"],this.loadingForm=!0,this.http.HTTP_AUTH(this.apiPathParameterI18n,{parameterCode:this.parameter.parameterCode}).subscribe(d=>{d.forEach(m=>{this.formGroup.get(m.locale).setValue(m.parameterValue),this.loadingForm=!1})}))):this.router.navigate(["/app/sysconf/parameter"])}splitLocale(t){this.allLocales=t,t.forEach(o=>{o.localeDefault?this.localeDefault=o:this.locales.push(o),this.formGroup.removeControl(o.localeCode),this.formGroup.addControl(o.localeCode,new l.NI)})}ngOnInit(){}onReset(){this.router.navigate(["/app/sysconf/parameter/detail"])}onSubmit(){const t=this.formGroup.value;this.isEdit&&(t.parameterCode=this.parameter.parameterCode),t.parameterGroupCode=this.parameterGroup.parameterGroupCode,t.parameterValues={},this.allLocales.forEach(o=>{t.parameterValues[o.localeCode]=this.formGroup.get(o.localeCode).value}),super.onSubmit(t,"master","post-parameter-i18n").pipe((0,h.R)(this.destroy$)).subscribe(o=>{o.respStatusCode===c.Q4.OK_SCR009.toString()&&this.router.navigate(["/app/sysconf/parameter/detail"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(z),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-parameter-add-edit-detail-page"]],features:[e.qOj],decls:13,vars:15,consts:[[3,"header","url"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"formGroup"],["formControlName","parameterCode",3,"name","label","required","skeleton"],[1,"form-group","row"],["for","Parameter Value","class","label col-sm-3 col-form-label",4,"ngIf","ngIfElse"],["labelskeleton",""],[1,"col-sm-9"],[3,"name","nolabel","required","colLabel","colInput","icon","skeleton","formControlName",4,"ngIf"],[3,"name","nolabel","icon","skeleton","formControlName",4,"ngFor","ngForOf"],["pagefooter","",3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"],["for","Parameter Value",1,"label","col-sm-3","col-form-label"],[1,"col-sm-3"],[3,"ngClass"],[3,"name","nolabel","required","colLabel","colInput","icon","skeleton","formControlName"],[3,"name","nolabel","icon","skeleton","formControlName"]],template:function(t,o){if(1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e._UZ(4,"do-input-text",4),e.TgZ(5,"div",5),e.YNc(6,jt,3,3,"label",6),e.YNc(7,Xt,2,3,"ng-template",null,7,e.W1O),e.TgZ(9,"div",8),e.YNc(10,$t,1,8,"do-input-icon",9),e.qZA(),e.qZA(),e.YNc(11,Wt,1,5,"do-input-icon",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"do-button-submit",11),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA()),2&t){const a=e.MAs(8);e.Q6J("header",o.action+" Parameter")("url","/app/sysconf/parameter/detail"),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","parameterCode")("label","Parameter Code")("required",!o.isEdit)("skeleton",o.loadingForm),e.xp6(2),e.Q6J("ngIf",!o.loadingForm)("ngIfElse",a),e.xp6(4),e.Q6J("ngIf",o.localeDefault.localeCode),e.xp6(1),e.Q6J("ngForOf",o.locales),e.xp6(1),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled)}},directives:[y.e,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,S.O5,S.sg,C.r,S.mk,Y.g],pipes:[b.X$],styles:[".reset-left[_ngcontent-%COMP%]{margin-right:.25rem}.submit-right[_ngcontent-%COMP%]{margin-left:.25rem}"]}),n})(),data:{code:"#SYSCONF-PARAMETER-PAGE"}}]}];let eo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(Kt)],u.Bz]}),n})();const to=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.j7H.forChild(),M.uX,p.K1,p._s,p.B0,p.Gp,p.DG,p.Qz,eo],oo=[z];let no=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...oo],imports:[[...to]]}),n})();var Qe=f(6215),ao=f(6797),ee=f(4395),te=f(7519);const ro=["nodeNameTemplate"],io=["nodeCollapsibleTemplate"];function lo(n,r){if(1&n&&e._UZ(0,"node",2),2&n){const t=r.$implicit,o=e.oxw();e.Q6J("state",t)("selectedState",t.selectedState)("nodeCollapsibleTemplate",o.nodeCollapsibleTemplate)("nodeNameTemplate",o.nodeNameTemplate)}}const so=["nodeCheckbox"];function po(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"input",6,7),e.NdJ("click",function(){return e.CHM(t),e.oxw().checkBoxClick()}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.state.disabled)("checked",t.state.selected)}}function mo(n,r){if(1&n&&e._UZ(0,"node",11),2&n){const t=r.$implicit,o=e.oxw(2);e.Q6J("state",t)("selectedState",t.selectedState)("nodeCollapsibleTemplate",o.nodeCollapsibleTemplate)("nodeNameTemplate",o.nodeNameTemplate)}}function uo(n,r){if(1&n&&(e.TgZ(0,"div",8),e.TgZ(1,"div",9),e.YNc(2,mo,1,4,"node",10),e.qZA(),e.qZA()),2&n){const t=e.oxw();e.ekj("collapsed",!t.state.expanded&&t.state.nodeItem.children.length>0&&t.state.filteredChildren.length>0),e.xp6(2),e.Q6J("ngForOf",t.state.filteredChildren)}}function co(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.ekj("active",t.active),e.xp6(1),e.Oqu(t.state.nodeItem.name)}}function ho(n,r){1&n&&e.GkF(0)}const fo=function(n,r,t){return{$implicit:n,node:r,context:t}};function go(n,r){1&n&&e._UZ(0,"i",4)}function bo(n,r){1&n&&e._UZ(0,"i",5)}function _o(n,r){if(1&n&&(e.ynx(0),e.YNc(1,go,1,0,"i",2),e.YNc(2,bo,1,0,"i",3),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!t.state.expanded),e.xp6(1),e.Q6J("ngIf",t.state.expanded)}}function Co(n,r){if(1&n&&(e.ynx(0),e.YNc(1,_o,3,2,"ng-container",1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",(null==t.state.nodeItem||null==t.state.nodeItem.children?null:t.state.nodeItem.children.length)>0)}}function vo(n,r){1&n&&e.GkF(0)}const yo=function(n,r){return{expanded:n,context:r}};function To(n,r){if(1&n&&(e.ynx(0),e.YNc(1,vo,1,0,"ng-container",6),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.nodeCollapsibleTemplate)("ngTemplateOutletContext",e.WLB(2,yo,t.state.expanded,t._this))}}var A=(()=>{return(n=A||(A={}))[n.checked=0]="checked",n[n.unChecked=1]="unChecked",n[n.indeterminate=2]="indeterminate",A;var n})(),P=(()=>{return(n=P||(P={}))[n.NoSelect=0]="NoSelect",n[n.SingleSelect=1]="SingleSelect",n[n.MultiSelect=2]="MultiSelect",n[n.HideSelected=3]="HideSelected",P;var n})();class oe{static initState(r,t,o){return{parent:r,children:[],filteredChildren:[],hasFilteredChildren:!1,nodeItem:t,expanded:!1!==t.expanded,disabled:!0===t.disabled,markSelected:this.getMarkSelected(t,o),selectedState:A.unChecked,selected:!1,showCheckBox:o.checkboxes}}static getMarkSelected(r,t){return!(r.children&&0!==r.children.length&&t.mode!==P.SingleSelect||t.checkboxes)}}let B=(()=>{class n{constructor(){this.callbacks={},this.treeState=[],this.selectedItems=[],this.selectedStates=[],this.filterValue="",this.selectedItemsSubject=new Qe.X(this.selectedItems),this.filterChangeSubject=new Qe.X(this.filterValue),this.filterChangeSubject.pipe((0,ee.b)(300),(0,te.x)()).subscribe(t=>{this.filterTraverse(this.treeState,this.filterValue)})}toggleSelected(t){this.toggleSelectedState(t,!1),this.callbacks.toggle&&this.callbacks.toggle(t.nodeItem)}toggleSelectedState(t,o){this.isDisabled(t,o)||(t.selectedState===A.unChecked?this.options.mode===P.SingleSelect?(this.clear(),this.setChecked(t,!1,!0,o)):this.setChecked(t,!0,!1,o):t.selectedState===A.checked?this.options.mode===P.SingleSelect?this.setUnchecked(t,!1,!0,o):this.setUnchecked(t,!0,!1,o):this.anyActiveSelected(t)&&!t.selected?this.setUnchecked(t,!0,!1,o):this.setChecked(t,!0,!1,o),t.parent&&this.options.mode!==P.SingleSelect&&this.childStateChanged(t.parent))}setInitialState(){this.setInitialSelectedState(this.treeState)}childStateChanged(t){this.anyChildSelected(t)?this.allChildrenSelected(t)?this.setChecked(t,!1):this.setIndeterminate(t):this.setUnchecked(t,!1),t.parent&&this.childStateChanged(t.parent)}checkBoxClick(t){this.options.mode!==P.HideSelected&&this.toggleSelected(t)}nameClick(t){this.callbacks.nameClick&&this.callbacks.nameClick(t.nodeItem),this.canToggleChildrenOnName()&&this.toggleSelected(t)}toggleExpanded(t){this.toggleExpandedTraverse(this.treeState,t)}clear(){for(let t of this.selectedStates)t.selected=!1,t.selectedState=A.unChecked;this.selectedItems.length=0,this.selectedStates.length=0}addNodeById(t,o){let a=this.getNodeState(this.treeState,o,this.findById);a&&(a.children||(a.children=[]),this.addNewNode(t,a),a.nodeItem.item&&this.options.mode===P.MultiSelect&&this.removeSelected(a.nodeItem.item))}selectById(t){let o=this.getNodeState(this.treeState,t,this.findById);o&&this.toggleSelected(o)}editNameById(t,o){const a=this.getNodeState(this.treeState,t,this.findById);a&&a.nodeItem&&(a.nodeItem.name=o)}editItemById(t,o){const a=this.getNodeState(this.treeState,t,this.findById);a&&a.nodeItem&&(this.selectedItems.includes(a.nodeItem.item)&&(this.removeSelected(a.nodeItem.item),this.selectedItems.push(o),this.selectedItemsSubject.next(this.selectedItems)),a.nodeItem.item=o)}deleteById(t){let o=this.getNodeState(this.treeState,t,this.findById);o&&this.deleteByState(o)}deleteByState(t){this.delete(t),this.childStateChanged(t),this.filterTraverse(this.treeState,this.filterValue)}expandById(t){const o=this.getNodeState(this.treeState,t,this.findById);o&&this.toggleExpandedTraverseAsc(o,!0)}collapseById(t){const o=this.getNodeState(this.treeState,t,this.findById);o&&(o.expanded=!1)}reEvaluateSelectedState(t){if(this.options.mode!==P.SingleSelect&&!this.hasNoChildren(t)){this.childStateChanged(t);for(const o of t.children)this.reEvaluateSelectedState(o)}}filterChanged(t){this.filterValue=t,this.filterChangeSubject.next(t)}canToggleChildrenOnName(){return!1===this.options.checkboxes&&(this.options.mode===P.SingleSelect||this.options.mode===P.MultiSelect)}getParentById(t){const o=this.getNodeState(this.treeState,t,this.findById);return o?o.parent.nodeItem:null}forceFilterTraverse(){this.filterTraverse(this.treeState,this.filterValue)}setInitialSelectedState(t){for(const o of t)this.options.mode===P.MultiSelect?o.nodeItem.selected&&(!o.children||0===o.children.length)&&this.toggleSelectedState(o,!0):o.nodeItem.selected&&this.toggleSelectedState(o,!0),this.setInitialSelectedState(o.children)}delete(t){for(;t.children.length>0;)this.delete(t.children.pop());this.removeSelected(t.nodeItem.item),this.remove(t),t.parent||this.deleteRoot(t,this.treeState,this.nodeItems)}toggleExpandedTraverse(t,o){for(let a of t)a.expanded=o,this.toggleExpandedTraverse(a.children,o)}deleteRoot(t,o,a){let i=a.indexOf(t.nodeItem);-1!==i&&a.splice(i,1);let d=o.indexOf(t);-1!==d&&o.splice(d,1)}isDisabled(t,o){return this.options.mode===P.NoSelect||t.disabled&&!o}addNewNode(t,o){t.parent=o,o.children.push(t),o.nodeItem.children.push(t.nodeItem),o.markSelected=oe.getMarkSelected(o.nodeItem,this.options),this.options.mode===P.MultiSelect&&this.childStateChanged(o),this.filterTraverse(this.treeState,this.filterValue)}remove(t){if(t.parent){t.parent.hasFilteredChildren=!1;let o=t.parent.nodeItem.children.indexOf(t.nodeItem);-1!==o&&t.parent.nodeItem.children.splice(o,1);let a=t.parent.children.indexOf(t);-1!==a&&t.parent.children.splice(a,1);let i=t.parent.filteredChildren.indexOf(t);-1!==i&&t.parent.filteredChildren.splice(i,1)}}anyChildSelected(t){return null!=t.children.find(o=>o.selectedState===A.checked||o.selectedState===A.indeterminate)}allChildrenSelected(t){return t.children.every(o=>o.selectedState===A.checked)&&t.children.length===t.nodeItem.children.length}toggleExpandedTraverseAsc(t,o){t.expanded=o,t.parent&&this.toggleExpandedTraverseAsc(t.parent,o)}setUnchecked(t,o,a,i){if(!t.disabled||i)if(t.selectedState=A.unChecked,t.selected=!1,this.hasNoChildren(t)||a)this.removeSelected(t.nodeItem.item),!0===this.options.alwaysEmitSelected&&this.selectedItemsSubject.next(this.selectedItems),this.callbacks.unSelect&&this.callbacks.unSelect(t.nodeItem);else if(!0===o)for(const d of t.children)this.setUnchecked(d,o,a,i)}setIndeterminate(t){t.selectedState=A.indeterminate,t.selected=!1}anyActiveSelected(t){let o=t.children.filter(a=>!a.disabled&&a.selected).length>0;for(const a of t.children)!this.hasNoChildren(a)&&this.anyActiveSelected(a)&&(o=!0);return o}hasNoChildren(t){return!t.children||0===t.children.length}setChecked(t,o,a,i){if(!t.disabled||i)if(t.selectedState=A.checked,t.selected=!0,this.hasNoChildren(t)||a)this.addSelected(t);else if(!0===o)for(const d of t.children)this.setChecked(d,o,a,i)}addSelected(t){this.selectedItems.push(t.nodeItem.item),this.selectedStates.push(t),!0===this.options.alwaysEmitSelected&&this.selectedItemsSubject.next(this.selectedItems),this.callbacks.select&&this.callbacks.select(t.nodeItem)}removeSelected(t){let o=this.selectedItems.indexOf(t);-1!==o&&this.selectedItems.splice(o,1)}findById(t,o){return t.nodeItem.id===o}getNodeState(t,o,a){let i=t.find(d=>a(d,o));if(i)return i;for(let d of t)if(i=this.getNodeState(d.children,o,a),i)return i;return i}connect(){return this.selectedItemsSubject.asObservable()}applyFilter(t,o){return t.filteredChildren=this.filter(t.children,o),t.filteredChildren.length>0}filter(t,o){return t.filter(a=>!(this.options.mode===P.HideSelected&&!a.selected)&&(!(!a.hasFilteredChildren&&""!==o&&-1===a.nodeItem.name.toLowerCase().indexOf(o))||void 0))}filterTraverse(t,o){let a=[];for(let i of t)i.children.length>0&&(i.hasFilteredChildren=!1,i.hasFilteredChildren=this.filterTraverse(i.children,o),this.applyFilter(i,o)&&(i.hasFilteredChildren=!0),a.push(i.hasFilteredChildren));return a.some(i=>!0===i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),V=(()=>{class n{constructor(t){this.treeService=t,this.defaultOptions={mode:P.SingleSelect,checkboxes:!1,alwaysEmitSelected:!1},this.options=this.defaultOptions,this.callbacks=this.treeService.callbacks,this.filter="",this.selectedItems=new e.vpe}ngOnInit(){this.subscription=this.treeService.connect().subscribe(t=>{const o=(0,ao.H)(0).subscribe(()=>{this.selectedItems.emit(t),o.unsubscribe()})})}ngOnDestroy(){this.subscription.unsubscribe()}ngOnChanges(t){t.filter&&this.treeService.filterChanged(this.filter.toLowerCase()),t.options&&(this.setOptions(),this.treeService.nodeItems&&(this.treeService.treeState=this.initTreeStructure(null,this.treeService.nodeItems,this.treeService.options),this.treeService.clear(),this.treeService.setInitialState(),this.treeService.forceFilterTraverse())),t.callbacks&&(this.treeService.callbacks=this.callbacks),t.nodeItems&&this.initialize()}addNodeById(t,o){const a=oe.initState(null,t,this.options);this.treeService.addNodeById(a,o)}deleteById(t){this.treeService.deleteById(t)}editNameById(t,o){this.treeService.editNameById(t,o)}editItemById(t,o){this.treeService.editItemById(t,o)}getParentById(t){return this.treeService.getParentById(t)}expandAll(){this.treeService.toggleExpanded(!0)}collapseAll(){this.treeService.toggleExpanded(!1)}expandById(t){this.treeService.expandById(t)}collapseById(t){this.treeService.collapseById(t)}selectById(t){this.treeService.selectById(t)}initialize(){this.setOptions(),this.treeService.callbacks=this.callbacks,this.treeService.nodeItems=this.nodeItems,this.treeService.treeState=this.initTreeStructure(null,this.treeService.nodeItems,this.treeService.options),this.treeService.clear(),this.treeService.setInitialState()}initTreeStructure(t,o,a){let i=[];for(let d of o){const m=oe.initState(t,d,a);d.children&&(m.children=this.initTreeStructure(m,d.children,a),m.filteredChildren=m.children),i.push(m)}return i}setOptions(){this.treeService.options=this.options.mode===P.NoSelect?Object.assign(Object.assign({},this.options),{checkboxes:!1}):Object.assign({},this.options)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["tree-ngx"]],contentQueries:function(t,o,a){if(1&t&&(e.Suo(a,ro,5),e.Suo(a,io,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.nodeNameTemplate=i.first),e.iGM(i=e.CRH())&&(o.nodeCollapsibleTemplate=i.first)}},inputs:{options:"options",callbacks:"callbacks",filter:"filter",nodeItems:"nodeItems"},outputs:{selectedItems:"selectedItems"},features:[e._Bn([B]),e.TTD],decls:2,vars:1,consts:[[1,"tree-ngx"],["class","node-root",3,"state","selectedState","nodeCollapsibleTemplate","nodeNameTemplate",4,"ngFor","ngForOf"],[1,"node-root",3,"state","selectedState","nodeCollapsibleTemplate","nodeNameTemplate"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,lo,1,4,"node",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",o.treeService.treeState))},directives:function(){return[S.sg,Po]},encapsulation:2}),n})(),Po=(()=>{class n{constructor(t){this.treeService=t,this._this=this}ngOnChanges(t){t.selectedState&&this.selectedStateChanged()}ngAfterViewInit(){this.selectedStateChanged()}selectedStateChanged(){this.nodeCheckbox&&(this.nodeCheckbox.nativeElement.indeterminate=this.selectedState===A.indeterminate,this.selectedState===A.checked?this.nodeCheckbox.nativeElement.checked=!0:this.selectedState===A.unChecked&&(this.nodeCheckbox.nativeElement.checked=!1))}checkBoxClick(){this.treeService.checkBoxClick(this.state),setTimeout(()=>{this.treeService.reEvaluateSelectedState(this.state)},1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["node"]],viewQuery:function(t,o){if(1&t&&e.Gf(so,5),2&t){let a;e.iGM(a=e.CRH())&&(o.nodeCheckbox=a.first)}},inputs:{state:"state",selectedState:"selectedState",nodeNameTemplate:"nodeNameTemplate",nodeCollapsibleTemplate:"nodeCollapsibleTemplate"},features:[e.TTD],decls:6,vars:6,consts:[[1,"node"],[1,"node-container"],[3,"state","nodeCollapsibleTemplate"],["class","node-checkbox","type","checkbox",3,"disabled","checked","click",4,"ngIf"],[3,"state","nodeNameTemplate"],["class","collapsible-wrapper",3,"collapsed",4,"ngIf"],["type","checkbox",1,"node-checkbox",3,"disabled","checked","click"],["nodeCheckbox",""],[1,"collapsible-wrapper"],[1,"collapsible"],["class","node-offset",3,"state","selectedState","nodeCollapsibleTemplate","nodeNameTemplate",4,"ngFor","ngForOf"],[1,"node-offset",3,"state","selectedState","nodeCollapsibleTemplate","nodeNameTemplate"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"node-icon-wrapper",2),e.YNc(3,po,2,2,"input",3),e._UZ(4,"node-name",4),e.qZA(),e.YNc(5,uo,3,3,"div",5),e.qZA()),2&t&&(e.xp6(2),e.Q6J("state",o.state)("nodeCollapsibleTemplate",o.nodeCollapsibleTemplate),e.xp6(1),e.Q6J("ngIf",o.state.showCheckBox),e.xp6(1),e.Q6J("state",o.state)("nodeNameTemplate",o.nodeNameTemplate),e.xp6(1),e.Q6J("ngIf",o.state.nodeItem.children))},directives:function(){return[Ao,S.O5,So,S.sg,n]},encapsulation:2}),n})(),So=(()=>{class n{constructor(t){this.treeService=t,this._this=this,this.active=!1}ngOnChanges(t){t.state&&(this.active=this.treeService.canToggleChildrenOnName())}nameClick(){this.treeService.nameClick(this.state)}delete(){this.treeService.deleteByState(this.state)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["node-name"]],inputs:{state:"state",nodeNameTemplate:"nodeNameTemplate"},features:[e.TTD],decls:3,vars:11,consts:[[1,"node-name",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return o.nameClick()}),e.YNc(1,co,3,3,"ng-container",1),e.YNc(2,ho,1,0,"ng-container",2),e.qZA()),2&t&&(e.ekj("markSelected",o.state.markSelected&&o.state.selected)("nodeDisabled",o.state.disabled),e.xp6(1),e.Q6J("ngIf",!o.nodeNameTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",o.nodeNameTemplate)("ngTemplateOutletContext",e.kEZ(7,fo,o.state.nodeItem,o.state.nodeItem,o._this)))},directives:[S.O5,S.tP],encapsulation:2}),n})(),Ao=(()=>{class n{constructor(){this._this=this}toggleExpand(){this.state.expanded=!this.state.expanded}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["node-icon-wrapper"]],inputs:{state:"state",nodeCollapsibleTemplate:"nodeCollapsibleTemplate"},decls:3,vars:8,consts:[[1,"node-icon-wrapper",3,"click"],[4,"ngIf"],["class","arrow-right",4,"ngIf"],["class","arrow-down",4,"ngIf"],[1,"arrow-right"],[1,"arrow-down"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return o.state.expanded=!o.state.expanded}),e.YNc(1,Co,2,1,"ng-container",1),e.YNc(2,To,2,5,"ng-container",1),e.qZA()),2&t&&(e.ekj("disabled",0==(null==o.state.nodeItem||null==o.state.nodeItem.children?null:o.state.nodeItem.children.length))("collapsable",(null==o.state.nodeItem||null==o.state.nodeItem.children?null:o.state.nodeItem.children.length)>0)("iconCheckbox",o.state.showCheckBox),e.xp6(1),e.Q6J("ngIf",!o.nodeCollapsibleTemplate),e.xp6(1),e.Q6J("ngIf",(null==o.state.nodeItem||null==o.state.nodeItem.children?null:o.state.nodeItem.children.length)>0))},directives:[S.O5,S.tP],encapsulation:2}),n})(),Be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[B],imports:[[S.ez]]}),n})(),Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-mgmt-menu"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})();var q=f(9765),G=f(8002);function Eo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-icon",1),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw().choose(i)}),e.qZA()}2&n&&e.Q6J("icon",r.$implicit)}let j=(()=>{class n{constructor(t,o){this.ref=t,this.evaIcons=[],this.evaIcons=Array.from(o.getPack("eva").icons.keys()).filter(a=>-1!==a.indexOf("outline"))}choose(t){this.ref.close(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.X4l),e.Y36(s.B7b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-dialog-icon"]],decls:6,vars:4,consts:[["class","choose-icon","pack","eva",3,"icon","click",4,"ngFor","ngForOf"],["pack","eva",1,"choose-icon",3,"icon","click"]],template:function(t,o){1&t&&(e.TgZ(0,"nb-card"),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e.YNc(5,Eo,1,1,"nb-icon",0),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"Choose Icon")," "),e.xp6(3),e.Q6J("ngForOf",o.evaIcons))},directives:[s.Asz,s.ndF,s.yKW,S.sg,s.fMN],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   .choose-icon[_ngcontent-%COMP%]{margin:.75rem;cursor:pointer}.nb-theme-dark   [_nghost-%COMP%]   .choose-icon[_ngcontent-%COMP%]{margin:.75rem;cursor:pointer}.nb-theme-cosmic   [_nghost-%COMP%]   .choose-icon[_ngcontent-%COMP%]{margin:.75rem;cursor:pointer}.nb-theme-corporate   [_nghost-%COMP%]   .choose-icon[_ngcontent-%COMP%]{margin:.75rem;cursor:pointer}"]}),n})();const Zo=function(n,r){return{"node-action":n,"node-action-group":r}};function xo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"span",22),e.NdJ("click",function(){const i=e.CHM(t).node;return e.oxw().onSelectNode(i)}),e._uU(1),e.qZA(),e.TgZ(2,"span",23),e.TgZ(3,"nb-icon",24),e.NdJ("click",function(){const a=e.CHM(t),i=a.node,d=a.context,m=e.oxw(),g=e.MAs(26);return m.onDeleteTree(i,d,g)}),e.qZA(),e.qZA()}if(2&n){const t=r.node;e.ekj("active",r.context.active),e.Q6J("ngClass",e.WLB(4,Zo,!t.item.group,t.item.group)),e.xp6(1),e.hij(" ",t.name," ")}}function No(n,r){1&n&&(e.TgZ(0,"label",25),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Title")," "))}const Mo=function(n){return{"label-skeleton":!0,skeleton:n}};function Go(n,r){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"div",27),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(1,Mo,t.loadingForm))}}function ko(n,r){if(1&n&&(e.TgZ(0,"div",28),e._UZ(1,"do-input-icon",29),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("formControlName",t.localeDefault.localeCode),e.Q6J("name",t.localeDefault.localeCode)("nolabel",!0)("required",!0)("colLabel",0)("colInput",12)("icon","flag-icon flag-icon-"+t.localeDefault.icon)("skeleton",t.loadingForm)}}const Oo=function(n){return{"input-skeleton":!0,skeleton:n}};function Io(n,r){if(1&n&&(e.TgZ(0,"div",28),e._UZ(1,"div",27),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(1,Oo,t.loadingForm))}}function wo(n,r){if(1&n&&e._UZ(0,"do-input-icon",30),2&n){const t=r.$implicit,o=e.oxw();e.s9C("formControlName",t.localeCode),e.Q6J("name",t.localeCode)("nolabel",!0)("icon","flag-icon flag-icon-"+t.icon)("skeleton",o.loadingForm)}}function Do(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"do-checkbox",31),e.NdJ("onChecked",function(a){return e.CHM(t),e.oxw().onCheckedRoot(a)}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("name","root")("label","Root")("data",t.rootData)("skeleton",t.loadingForm)}}function qo(n,r){if(1&n&&e._UZ(0,"do-checkbox",32),2&n){const t=e.oxw();e.Q6J("name","home")("label","Home")("data",t.homeData)("skeleton",t.loadingForm)}}function Jo(n,r){if(1&n&&e._UZ(0,"do-input-text",33),2&n){const t=e.oxw();e.Q6J("name","code")("label","Code")("capslock",!0)("required",!0)("skeleton",t.loadingForm)}}function Lo(n,r){if(1&n&&e._UZ(0,"do-input-text",34),2&n){const t=e.oxw();e.Q6J("name","link")("label","Link")("required",!0)("skeleton",t.loadingForm)}}function Fo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"do-input-icon",35),e.NdJ("clickIcon",function(){return e.CHM(t),e.oxw().onSearchIcon()}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("name","icon")("label","Icon")("required",!0)("skeleton",t.loadingForm)("icon","search-outline")("iconcursor",!0)("eva",!0)}}function Ro(n,r){if(1&n&&e._UZ(0,"do-select",36),2&n){const t=e.oxw();e.Q6J("name","parent")("label","Parent Menu")("api",t.apiSelectParent)("searchable",!1)("skeleton",t.loadingForm)("required",!0)}}function Qo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",37),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",38),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onSubmitDialog(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.s9C("accent","Delete"===o.dialogAction?"danger":"warning"),e.xp6(2),e.Oqu(e.lcZ(3,8,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,10,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle",o.dialogAction)("resetTitle","Cancel")("disabledButton",o.disabled)}}let Ye=(()=>{class n extends p.o9{constructor(t,o){super(t,{id:[],"en-US":[],"id-ID":[],root:[{value:[{id:"root",selected:!0}],disabled:!1}],code:[{value:"N/A",disabled:!1}],icon:[],link:[{value:"#",disabled:!1}],home:[{value:null,disabled:!1}],group:[{value:null,disabled:!1}],parent:[],order:[]}),this.injector=t,this.dialogService=o,this.nodeItems=[],this.options={mode:P.NoSelect,checkboxes:!1,alwaysEmitSelected:!0},this.allLocales=[],this.locales=[],this.localeDefault=new c.b5,this.action="Add",this.dialogAction="Edit",this.loadLocale=!1,this.title=null,this.rootData=[{id:"root",disabled:!1}],this.groupData=[{id:"group",disabled:!1}],this.homeData=[{id:"home",disabled:!1}],this.apiSelectParent=this.api.security["select-main-menus"],this.isRoot=!0,this.isGroup=!1}set isRoot(t){this.root=t,t?(this.formGroup.get("icon").enable(),this.formGroup.get("parent").disable(),this.formGroup.get("parent").setValue(null)):(this.formGroup.get("icon").disable(),this.formGroup.get("icon").setValue(null),this.formGroup.get("parent").enable())}get isRoot(){return this.root}set isGroup(t){this.group=t,t?(this.formGroup.get("root").disable(),this.formGroup.get("home").disable(),this.formGroup.get("code").disable(),this.formGroup.get("link").disable(),this.formGroup.get("icon").disable(),this.formGroup.get("parent").disable(),this.formGroup.get("root").setValue(null),this.formGroup.get("home").setValue(null),this.formGroup.get("code").setValue("N/A"),this.formGroup.get("link").setValue("#"),this.formGroup.get("icon").setValue(null),this.formGroup.get("parent").setValue(null)):(this.formGroup.get("root").enable(),this.formGroup.get("home").enable(),this.formGroup.get("code").enable(),this.formGroup.get("link").enable(),this.isRoot&&this.formGroup.get("icon").enable(),this.isRoot||this.formGroup.get("parent").enable())}get isGroup(){return this.group}ngOnInit(){}onCheckedRoot(t){this.isRoot=!!t&&t[0].selected}onCheckedGroup(t){this.isGroup=!!t&&t[0].selected}loadDataMenu(){return this.loadLocale||(this.loadingForm=!0,this.http.HTTP_AUTH(this.api.master["all-locale"]).subscribe(t=>{this.splitLocale(t),this.loadLocale=!0,this.loadingForm=!1})),this.http.HTTP_AUTH(this.api.security["get-tree-menus"],null,null,null,["main"]).pipe((0,G.U)(t=>{this.nodeItems=[],this.nodeItems=[...this.nodeItems,...t],this.onReset(),this.loadLocale&&(this.loadingForm=!1)}))}splitLocale(t){this.allLocales=t,t.forEach(o=>{o.localeDefault?this.localeDefault=o:this.locales.push(o),this.formGroup.removeControl(o.localeCode),this.formGroup.addControl(o.localeCode,new l.NI)})}onSearchIcon(){this.dialogService.open(j).onClose.subscribe(t=>{this.formGroup.get("icon").setValue(t),this.formGroup.get("icon").markAsDirty()})}onSelectNode(t){t.item&&(this.action="Edit",this.dialogAction=this.action,this.isRoot=0===t.item.level,this.isGroup=t.item.group,this.allLocales.forEach(o=>{this.formGroup.get(o.localeCode).setValue(t.item.i18n[o.localeCode]),o.localeDefault&&(this.title=t.item.i18n[o.localeCode])}),this.formGroup.get("group").setValue([{id:"group",selected:this.isGroup}]),this.formGroup.get("root").setValue([{id:"root",selected:this.isRoot}]),this.formGroup.get("home").setValue([{id:"home",selected:t.item.home}]),this.formGroup.get("id").setValue(t.id),this.formGroup.get("code").setValue(t.item.code),this.formGroup.get("link").setValue(t.item.link),this.formGroup.get("icon").setValue(t.item.icon),this.formGroup.get("order").setValue(t.item.ordering),t.item.parentMenu&&this.formGroup.get("parent").setValue({label:t.item.parentMenu.title,value:t.item.parentMenu.id}))}onDeleteTree(t,o,a){this.dialogAction="Delete",this.node=t,this.context=o,this.dialogService.open(a,{context:"alert.delete"})}onSubmit(t){let o=null,a="N/A",i=null,d="#",g=0,v=!1,Z=!1,T=1,k=!0;const w={};let N=null;this.formGroup.get("id").value&&(o=this.formGroup.get("id").value),this.formGroup.get("code").value&&(a=this.formGroup.get("code").value),this.formGroup.get("icon").value&&(i=this.formGroup.get("icon").value),this.formGroup.get("link").value&&(d=this.formGroup.get("link").value),this.formGroup.get("order").value&&(g=+this.formGroup.get("order").value),this.formGroup.get("home").value&&this.formGroup.get("home").value[0].selected&&(v=!0),this.formGroup.get("root").value&&this.formGroup.get("root").value[0].selected&&(T=0,k=!1),this.allLocales.forEach(D=>{w[D.localeCode]=this.formGroup.get(D.localeCode).value}),this.formGroup.get("parent").value&&this.formGroup.get("parent").value.value&&(N={id:this.formGroup.get("parent").value.value}),this.formGroup.get("group").value&&this.formGroup.get("group").value[0].selected&&(Z=!0,v=!1,k=!1,T=0,N=null),this.data={id:o,code:a,icon:i,link:d,type:"main",level:T,ordering:g,home:v,group:Z,leaf:k,i18n:w,parentMenu:N},"Edit"===this.action?this.dialogService.open(t,{context:"alert.edit"}):this.postMenu()}onSubmitDialog(t){"Delete"===this.dialogAction?this.deleteTreeMenu(t):this.postMenu(t)}onReset(){this.disabled=!1,this.isRoot=!0,this.isGroup=!1,this.title=null,this.action="Add",this.allLocales.forEach(t=>{this.formGroup.get(t.localeCode).setValue(null)}),this.formGroup.get("group").setValue([{id:"group",selected:this.isGroup}]),this.formGroup.get("home").setValue([{id:"home",selected:!1}]),this.formGroup.get("root").setValue([{selected:this.isRoot}]),this.formGroup.get("id").setValue(null),this.formGroup.get("code").setValue("N/A"),this.formGroup.get("link").setValue("#"),this.formGroup.get("icon").setValue(null),this.formGroup.get("order").setValue(null),this.formGroup.get("parent").setValue(null)}deleteTreeMenu(t){this.disabled=!0,this.http.HTTP_AUTH(this.api.security["delete-menu"],null,null,null,[this.node.id]).subscribe(o=>{t.close(),this.context.delete(),this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0),this.loadDataMenu().subscribe(()=>{this.loadingForm=!1})},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}postMenu(t){super.onSubmit(this.data,"security","post-menus").pipe((0,h.R)(this.destroy$)).subscribe(o=>{o.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.loadDataMenu().subscribe(()=>{this.loadingForm=!1}),"Edit"===this.action&&t.close()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(s.Gln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-main-menu-page"]],features:[e.qOj],decls:27,vars:30,consts:[[1,"row"],[1,"col-md-4","col-lg-4"],[3,"nodeItems","options"],["treeMain",""],["nodeNameTemplate",""],[1,"col-md-8","col-lg-8"],[3,"formGroup"],["for","Title","class","label col-sm-3 col-form-label",4,"ngIf","ngIfElse"],["labelskeleton",""],["class","col-sm-9",4,"ngIf","ngIfElse"],["inputSkeleton",""],[3,"name","nolabel","icon","skeleton","formControlName",4,"ngFor","ngForOf"],["formControlName","group",3,"name","label","data","skeleton","warnMessage","onChecked"],["formControlName","root",3,"name","label","data","skeleton","onChecked",4,"ngIf"],["formControlName","home",3,"name","label","data","skeleton",4,"ngIf"],["formControlName","code",3,"name","label","capslock","required","skeleton",4,"ngIf"],["formControlName","link",3,"name","label","required","skeleton",4,"ngIf"],["formControlName","icon",3,"name","label","required","skeleton","icon","iconcursor","eva","clickIcon",4,"ngIf"],["formControlName","parent",3,"name","label","api","searchable","skeleton","required",4,"ngIf"],["formControlName","order",3,"name","label","required","type","max","maxLength","skeleton"],[3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"],["dialogprocess",""],[1,"node-action",3,"ngClass","click"],[1,"tree-action"],["icon","close-square-outline",1,"action-trash",3,"click"],["for","Title",1,"label","col-sm-3","col-form-label"],[1,"col-sm-3"],[3,"ngClass"],[1,"col-sm-9"],[3,"name","nolabel","required","colLabel","colInput","icon","skeleton","formControlName"],[3,"name","nolabel","icon","skeleton","formControlName"],["formControlName","root",3,"name","label","data","skeleton","onChecked"],["formControlName","home",3,"name","label","data","skeleton"],["formControlName","code",3,"name","label","capslock","required","skeleton"],["formControlName","link",3,"name","label","required","skeleton"],["formControlName","icon",3,"name","label","required","skeleton","icon","iconcursor","eva","clickIcon"],["formControlName","parent",3,"name","label","api","searchable","skeleton","required"],[3,"accent"],[3,"colLabel","colButton","submitTitle","resetTitle","disabledButton","onReset","onSubmit"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"tree-ngx",2,3),e.YNc(4,xo,4,7,"ng-template",null,4,e.W1O),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.TgZ(8,"div",0),e.YNc(9,No,3,3,"label",7),e.YNc(10,Go,2,3,"ng-template",null,8,e.W1O),e.YNc(12,ko,2,8,"div",9),e.YNc(13,Io,2,3,"ng-template",null,10,e.W1O),e.qZA(),e.YNc(15,wo,1,5,"do-input-icon",11),e.TgZ(16,"do-checkbox",12),e.NdJ("onChecked",function(d){return o.onCheckedGroup(d)}),e.qZA(),e.YNc(17,Do,1,4,"do-checkbox",13),e.YNc(18,qo,1,4,"do-checkbox",14),e.YNc(19,Jo,1,5,"do-input-text",15),e.YNc(20,Lo,1,4,"do-input-text",16),e.YNc(21,Fo,1,7,"do-input-icon",17),e.YNc(22,Ro,1,6,"do-select",18),e._UZ(23,"do-input-text",19),e.TgZ(24,"do-button-submit",20),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){e.CHM(a);const d=e.MAs(26);return o.onSubmit(d)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(25,Qo,9,12,"ng-template",null,21,e.W1O)}if(2&t){const a=e.MAs(11),i=e.MAs(14);e.xp6(2),e.Q6J("nodeItems",o.nodeItems)("options",o.options),e.xp6(5),e.Q6J("formGroup",o.formGroup),e.xp6(2),e.Q6J("ngIf",!o.loadingForm)("ngIfElse",a),e.xp6(3),e.Q6J("ngIf",o.loadLocale)("ngIfElse",i),e.xp6(3),e.Q6J("ngForOf",o.locales),e.xp6(1),e.Q6J("name","group")("label","Group")("data",o.groupData)("skeleton",o.loadingForm)("warnMessage","warn.group-menu"),e.xp6(1),e.Q6J("ngIf",!o.isGroup),e.xp6(1),e.Q6J("ngIf",!o.isGroup),e.xp6(1),e.Q6J("ngIf",!o.isGroup),e.xp6(1),e.Q6J("ngIf",!o.isGroup),e.xp6(1),e.Q6J("ngIf",o.isRoot&&!o.isGroup),e.xp6(1),e.Q6J("ngIf",!o.isRoot&&!o.isGroup),e.xp6(1),e.Q6J("name","order")("label","Order")("required",!0)("type","number")("max",999)("maxLength",3)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled)}},directives:[V,l._Y,l.JL,l.sg,S.O5,S.sg,R.l,l.JJ,l.u,_.v,l.Q7,C.r,S.mk,s.fMN,Y.g,O.r,s.Asz,s.ndF,s.yKW,s.XWE],pipes:[b.X$],styles:['.tree-ngx{display:flex;flex:1 1 auto;flex-direction:column;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.node{display:flex;flex:1 1 auto;flex-direction:column}.node-children{display:flex;flex:1 1 auto}.node-name{display:inline-block;padding:5px 0 5px 7px}.node-name.markSelected{padding:5px 0 5px 2px;border-left:5px #226699 solid}.node-name .active{cursor:pointer}.node-offset{display:flex;margin-left:20px}.node-icon-wrapper{position:relative;display:inline-block;width:25px;height:17px;top:1px;left:6px}.node-icon-wrapper.disabled{cursor:default}.collapsable{cursor:pointer}.node-container{display:inline-block}.nodeDisabled{opacity:.6}.node-checkbox{display:inline-block;position:relative;top:3px;left:5px;width:16px;height:16px;cursor:pointer}.node-checkbox:disabled{cursor:auto}.collapsible-wrapper{display:flex;overflow:hidden}.collapsible-wrapper:after{content:"";height:25px;transition:height .3s linear,max-height 0s .3s linear;max-height:0px}.collapsible{transition:margin-bottom .3s cubic-bezier(0,0,0,1);margin-bottom:0;max-height:1000000px}.collapsible-wrapper.collapsed>.collapsible{margin-bottom:-20000px;transition:margin-bottom .3s cubic-bezier(1,0,1,1),visibility 0s .3s,max-height 0s .3s;visibility:hidden;max-height:0}.collapsible-wrapper.collapsed:after{height:0;transition:height .3s linear;max-height:25px}.arrow-down{position:absolute;width:0;height:0;left:3px;top:6px;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #455A64}.arrow-down.collapse-empty{border-top:7px solid #ccc}.arrow-right{position:absolute;width:0;height:0;left:8px;top:3px;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #455A64}.nb-theme-default .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-default .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0;cursor:pointer}.nb-theme-default .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-default .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-default .action-trash:hover{color:#ff708d}.nb-theme-dark .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-dark .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#fff;border-radius:0;cursor:pointer}.nb-theme-dark .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-dark .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-dark .action-trash:hover{color:#ff708d}.nb-theme-cosmic .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-cosmic .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#fff;border-radius:0;cursor:pointer}.nb-theme-cosmic .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-cosmic .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-cosmic .action-trash:hover{color:#ff708d}.nb-theme-corporate .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-corporate .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0;cursor:pointer}.nb-theme-corporate .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-corporate .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-corporate .action-trash:hover{color:#ff708d}\n'],encapsulation:2}),n})();function Bo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"span",17),e.NdJ("click",function(){const i=e.CHM(t).node;return e.oxw().onSelectNode(i)}),e._uU(1),e.qZA(),e.TgZ(2,"span",18),e.TgZ(3,"nb-icon",19),e.NdJ("click",function(){const a=e.CHM(t),i=a.node,d=a.context,m=e.oxw(),g=e.MAs(21);return m.onDeleteTree(i,d,g)}),e.qZA(),e.qZA()}if(2&n){const t=r.node;e.ekj("active",r.context.active),e.xp6(1),e.hij(" ",t.name," ")}}function Uo(n,r){1&n&&(e.TgZ(0,"label",20),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"Title")," "))}const Yo=function(n){return{"label-skeleton":!0,skeleton:n}};function zo(n,r){if(1&n&&(e.TgZ(0,"div",21),e._UZ(1,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(1,Yo,t.loadingForm))}}function Vo(n,r){if(1&n&&(e.TgZ(0,"div",23),e._UZ(1,"do-input-icon",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.s9C("formControlName",t.localeDefault.localeCode),e.Q6J("name",t.localeDefault.localeCode)("nolabel",!0)("required",!0)("colLabel",0)("colInput",12)("icon","flag-icon flag-icon-"+t.localeDefault.icon)("skeleton",t.loadingForm)}}const jo=function(n){return{"input-skeleton":!0,skeleton:n}};function Ho(n,r){if(1&n&&(e.TgZ(0,"div",23),e._UZ(1,"div",22),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(1,jo,t.loadingForm))}}function Xo(n,r){if(1&n&&e._UZ(0,"do-input-icon",25),2&n){const t=r.$implicit,o=e.oxw();e.s9C("formControlName",t.localeCode),e.Q6J("name",t.localeCode)("nolabel",!0)("icon","flag-icon flag-icon-"+t.icon)("skeleton",o.loadingForm)}}function $o(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",26),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",27),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onSubmitDialog(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.s9C("accent","Delete"===o.dialogAction?"danger":"warning"),e.xp6(2),e.Oqu(e.lcZ(3,8,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,10,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle",o.dialogAction)("resetTitle","Cancel")("disabledButton",o.disabled)}}let ze=(()=>{class n extends p.o9{constructor(t,o){super(t,{id:[],"en-US":[],"id-ID":[],code:[{value:"N/A",disabled:!1}],link:[{value:"#",disabled:!1}],order:[]}),this.injector=t,this.dialogService=o,this.nodeItems=[],this.options={mode:P.NoSelect,checkboxes:!1,alwaysEmitSelected:!0},this.allLocales=[],this.locales=[],this.localeDefault=new c.b5,this.action="Add",this.dialogAction="Edit",this.loadLocale=!1,this.title=null}ngOnInit(){}loadDataMenu(){return this.loadLocale||(this.loadingForm=!0,this.http.HTTP_AUTH(this.api.master["all-locale"]).subscribe(t=>{this.splitLocale(t),this.loadLocale=!0,this.loadingForm=!1})),this.http.HTTP_AUTH(this.api.security["get-tree-menus"],null,null,null,["extra"]).pipe((0,G.U)(t=>{this.nodeItems=[],this.nodeItems=[...this.nodeItems,...t],this.onReset(),this.loadLocale&&(this.loadingForm=!1)}))}splitLocale(t){this.allLocales=t,t.forEach(o=>{o.localeDefault?this.localeDefault=o:this.locales.push(o),this.formGroup.removeControl(o.localeCode),this.formGroup.addControl(o.localeCode,new l.NI)})}onSearchIcon(){this.dialogService.open(j).onClose.subscribe(t=>{this.formGroup.get("icon").setValue(t),this.formGroup.get("icon").markAsDirty()})}onSelectNode(t){t.item&&(this.action="Edit",this.dialogAction=this.action,this.allLocales.forEach(o=>{this.formGroup.get(o.localeCode).setValue(t.item.i18n[o.localeCode])}),this.formGroup.get("id").setValue(t.id),this.formGroup.get("code").setValue(t.item.code),this.formGroup.get("link").setValue(t.item.link),this.formGroup.get("order").setValue(t.item.ordering))}onDeleteTree(t,o,a){this.dialogAction="Delete",this.node=t,this.context=o,this.dialogService.open(a,{context:"alert.delete"})}onSubmit(t){let o=null,a="N/A",i="#",d=0;const w={};this.formGroup.get("id").value&&(o=this.formGroup.get("id").value),this.formGroup.get("code").value&&(a=this.formGroup.get("code").value),this.formGroup.get("link").value&&(i=this.formGroup.get("link").value),this.formGroup.get("order").value&&(d=+this.formGroup.get("order").value),this.allLocales.forEach(D=>{w[D.localeCode]=this.formGroup.get(D.localeCode).value}),this.data={id:o,code:a,icon:null,link:i,type:"extra",level:0,ordering:d,home:!1,group:!1,leaf:!1,i18n:w,parentMenu:null},"Edit"===this.action?this.dialogService.open(t,{context:"alert.edit"}):this.postMenu()}onSubmitDialog(t){"Delete"===this.dialogAction?this.deleteTreeMenu(t):this.postMenu(t)}onReset(){this.disabled=!1,this.title=null,this.action="Add",this.allLocales.forEach(t=>{this.formGroup.get(t.localeCode).setValue(null)}),this.formGroup.get("id").setValue(null),this.formGroup.get("code").setValue("N/A"),this.formGroup.get("link").setValue("#"),this.formGroup.get("order").setValue(null)}deleteTreeMenu(t){this.disabled=!0,this.http.HTTP_AUTH(this.api.security["delete-menu"],null,null,null,[this.node.id]).subscribe(o=>{t.close(),this.context.delete(),this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0),this.loadDataMenu().subscribe(()=>{this.loadingForm=!1})},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}postMenu(t){super.onSubmit(this.data,"security","post-menus").pipe((0,h.R)(this.destroy$)).subscribe(o=>{o.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.loadDataMenu().subscribe(()=>{this.loadingForm=!1}),"Edit"===this.action&&t.close()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(s.Gln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-extra-menu-page"]],features:[e.qOj],decls:22,vars:28,consts:[[1,"row"],[1,"col-md-4","col-lg-4"],[3,"nodeItems","options"],["treeExtra",""],["nodeNameTemplate",""],[1,"col-md-8","col-lg-8"],[3,"formGroup"],["for","Title","class","label col-sm-3 col-form-label",4,"ngIf","ngIfElse"],["labelskeleton",""],["class","col-sm-9",4,"ngIf","ngIfElse"],["inputSkeleton",""],[3,"name","nolabel","icon","skeleton","formControlName",4,"ngFor","ngForOf"],["formControlName","code",3,"name","label","capslock","required","skeleton"],["formControlName","link",3,"name","label","required","skeleton"],["formControlName","order",3,"name","label","required","type","max","maxLength","skeleton"],[3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"],["dialogprocessextra",""],[1,"node-action",3,"click"],[1,"tree-action"],["icon","close-square-outline",1,"action-trash",3,"click"],["for","Title",1,"label","col-sm-3","col-form-label"],[1,"col-sm-3"],[3,"ngClass"],[1,"col-sm-9"],[3,"name","nolabel","required","colLabel","colInput","icon","skeleton","formControlName"],[3,"name","nolabel","icon","skeleton","formControlName"],[3,"accent"],[3,"colLabel","colButton","submitTitle","resetTitle","disabledButton","onReset","onSubmit"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"tree-ngx",2,3),e.YNc(4,Bo,4,3,"ng-template",null,4,e.W1O),e.qZA(),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"form",6),e.TgZ(8,"div",0),e.YNc(9,Uo,3,3,"label",7),e.YNc(10,zo,2,3,"ng-template",null,8,e.W1O),e.YNc(12,Vo,2,8,"div",9),e.YNc(13,Ho,2,3,"ng-template",null,10,e.W1O),e.qZA(),e.YNc(15,Xo,1,5,"do-input-icon",11),e._UZ(16,"do-input-text",12),e._UZ(17,"do-input-text",13),e._UZ(18,"do-input-text",14),e.TgZ(19,"do-button-submit",15),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){e.CHM(a);const d=e.MAs(21);return o.onSubmit(d)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(20,$o,9,12,"ng-template",null,16,e.W1O)}if(2&t){const a=e.MAs(11),i=e.MAs(14);e.xp6(2),e.Q6J("nodeItems",o.nodeItems)("options",o.options),e.xp6(5),e.Q6J("formGroup",o.formGroup),e.xp6(2),e.Q6J("ngIf",!o.loadingForm)("ngIfElse",a),e.xp6(3),e.Q6J("ngIf",o.loadLocale)("ngIfElse",i),e.xp6(3),e.Q6J("ngForOf",o.locales),e.xp6(1),e.Q6J("name","code")("label","Code")("capslock",!0)("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","link")("label","Link")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","order")("label","Order")("required",!0)("type","number")("max",99)("maxLength",2)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled)}},directives:[V,l._Y,l.JL,l.sg,S.O5,S.sg,_.v,l.JJ,l.u,l.Q7,C.r,s.fMN,S.mk,Y.g,s.Asz,s.ndF,s.yKW,s.XWE],pipes:[b.X$],styles:['.tree-ngx{display:flex;flex:1 1 auto;flex-direction:column;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.node{display:flex;flex:1 1 auto;flex-direction:column}.node-children{display:flex;flex:1 1 auto}.node-name{display:inline-block;padding:5px 0 5px 7px}.node-name.markSelected{padding:5px 0 5px 2px;border-left:5px #226699 solid}.node-name .active{cursor:pointer}.node-offset{display:flex;margin-left:20px}.node-icon-wrapper{position:relative;display:inline-block;width:25px;height:17px;top:1px;left:6px}.node-icon-wrapper.disabled{cursor:default}.collapsable{cursor:pointer}.node-container{display:inline-block}.nodeDisabled{opacity:.6}.node-checkbox{display:inline-block;position:relative;top:3px;left:5px;width:16px;height:16px;cursor:pointer}.node-checkbox:disabled{cursor:auto}.collapsible-wrapper{display:flex;overflow:hidden}.collapsible-wrapper:after{content:"";height:25px;transition:height .3s linear,max-height 0s .3s linear;max-height:0px}.collapsible{transition:margin-bottom .3s cubic-bezier(0,0,0,1);margin-bottom:0;max-height:1000000px}.collapsible-wrapper.collapsed>.collapsible{margin-bottom:-20000px;transition:margin-bottom .3s cubic-bezier(1,0,1,1),visibility 0s .3s,max-height 0s .3s;visibility:hidden;max-height:0}.collapsible-wrapper.collapsed:after{height:0;transition:height .3s linear;max-height:25px}.arrow-down{position:absolute;width:0;height:0;left:3px;top:6px;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #455A64}.arrow-down.collapse-empty{border-top:7px solid #ccc}.arrow-right{position:absolute;width:0;height:0;left:8px;top:3px;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #455A64}.nb-theme-default .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-default .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0;cursor:pointer}.nb-theme-default .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-default .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-default .action-trash:hover{color:#ff708d}.nb-theme-dark .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-dark .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#fff;border-radius:0;cursor:pointer}.nb-theme-dark .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-dark .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-dark .action-trash:hover{color:#ff708d}.nb-theme-cosmic .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-cosmic .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#fff;border-radius:0;cursor:pointer}.nb-theme-cosmic .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-cosmic .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-cosmic .action-trash:hover{color:#ff708d}.nb-theme-corporate .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-corporate .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0;cursor:pointer}.nb-theme-corporate .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-corporate .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-corporate .action-trash:hover{color:#ff708d}\n'],encapsulation:2}),n})();const Wo=["mainMenu"],Ko=["extraMenu"];const en=[{path:"",component:Ue,canActivateChild:[x.Cy],children:[{path:"",component:(()=>{class n extends p.H6{constructor(t){super(t),this.injector=t,this.loading=!1,this.tab="main",this.destroy$=new q.xQ}ngOnInit(){}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.next(),this.destroy$.complete()}toggleLoadingAnimation(t){this.tab=t.tabId,this.loading=!0,"main"===this.tab?this.mainMenu.loadDataMenu().pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1}):this.extraMenu.loadDataMenu().pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-menu-page"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Wo,7),e.Gf(Ko,7)),2&t){let a;e.iGM(a=e.CRH())&&(o.mainMenu=a.first),e.iGM(a=e.CRH())&&(o.extraMenu=a.first)}},features:[e.qOj],decls:10,vars:9,consts:[[3,"header","hidefooter"],["fullWidth","","pagecontent","",3,"changeTab"],["tabId","main",3,"tabTitle"],["mainMenu",""],["tabId","extra",3,"tabTitle","lazyLoad"],["extraMenu",""]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"nb-tabset",1),e.NdJ("changeTab",function(i){return o.toggleLoadingAnimation(i)}),e.TgZ(2,"nb-tab",2),e.ALo(3,"translate"),e._UZ(4,"do-main-menu-page",null,3),e.qZA(),e.TgZ(6,"nb-tab",4),e.ALo(7,"translate"),e._UZ(8,"do-extra-menu-page",null,5),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header.menu-management")("hidefooter",!0),e.xp6(2),e.s9C("tabTitle",e.lcZ(3,5,"tab.main-menu")),e.xp6(4),e.s9C("tabTitle",e.lcZ(7,7,"tab.extra-menu")),e.Q6J("lazyLoad",!0))},directives:[y.e,s.kyn,s.TR4,Ye,ze],pipes:[b.X$],styles:[""]}),n})(),data:{code:"#MANAGEMENT-MENU-PAGE"}}]}];let tn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(en)],u.Bz]}),n})();const on=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.j7H.forChild(),M.uX,p.K1,p._s,p.B0,p.Gp,p.DG,p.Qz,s.EoG,s.uuI,Be,tn],nn=[];let an=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...nn],imports:[[...on]]}),n})(),je=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-mgmt-role"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})(),U=(()=>{class n{getRole(){return this.role}setRole(t){this.role=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n extends p.Ce{constructor(t,o,a){super(t,{authority:[],description:[]}),this.injector=t,this.router=o,this.roleService=a,this.selectionType=F.RT.single,this.columns=[{name:"Authority",prop:"authority",width:150,frozenLeft:!0},{name:"Description",prop:"description",width:275,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"}],this.expanded=!1,this.apiPath=this.api.security["datatable-role"],this.sort={asc:["level"]},this.filters=[{controlName:"authority",type:"input"},{controlName:"description",type:"input"}]}ngOnInit(){}onAddGroup(){this.router.navigate(["/app/mgmt/role","add"])}onViewDetail(t){this.roleService.setRole(t),this.router.navigate(["/app/mgmt/role","edit"])}onReset(){this.router.navigate(["/app/mgmt/role"])}back(){return this.router.navigate(["/app/mgmt/role"]),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-role-list-page"]],features:[e.qOj],decls:7,vars:15,consts:[[3,"header","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","formGroupFilter","filters","sort","delete","selectionType","filterFn","columns","onFilter","onAdd","onEdit"],[3,"formGroup"],["formControlName","authority",3,"name","label"],["formControlName","description",3,"name","label"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"do-datatable",3),e.NdJ("onFilter",function(i){return o.doFilterAdvanced(i)})("onAdd",function(){return o.onAddGroup()})("onEdit",function(i){return o.onViewDetail(i)}),e.TgZ(4,"form",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-input-text",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header.role-management")("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("sort",o.sort)("delete",!1)("selectionType",o.selectionType)("filterFn",o.keyword)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","authority")("label","Authority"),e.xp6(1),e.Q6J("name","description")("label","Description"))},directives:[y.e,E.I,l._Y,l.JL,l.sg,_.v,l.JJ,l.u],styles:[""]}),n})();var J=f(5917);const rn=function(n,r){return{"node-action":n,"node-action-group":r}};function ln(n,r){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=r.node;e.Q6J("ngClass",e.WLB(2,rn,!t.item.group,t.item.group)),e.xp6(1),e.hij(" ",t.name," ")}}let Xe=(()=>{class n extends p.o9{constructor(t,o){super(t),this.injector=t,this.roleService=o,this.onSelect=new e.vpe,this.nodeItems=[],this.options={mode:P.MultiSelect,checkboxes:!0,alwaysEmitSelected:!0},this.title=null,this.data=[]}ngOnInit(){}loadDataMenu(t){return t.length>0?(0,J.of)(()=>{this.nodeItems=[],this.nodeItems=[...this.nodeItems,...t]}):this.http.HTTP_AUTH(this.api.security["get-function-menus"],null,null,null,["main",this.roleService.getRole().authority]).pipe((0,G.U)(o=>(this.nodeItems=[],this.nodeItems=[...this.nodeItems,...o],this.data=[],o.forEach(a=>{(null==a?void 0:a.children)?null==a||a.children.forEach(i=>{i.selected&&(this.data=[...this.data,i.item])}):a.selected&&(this.data=[...this.data,a.item])}),this.data)))}initDataMenu(t){return t.length>0?(0,J.of)(()=>{this.nodeItems=[],this.nodeItems=[...this.nodeItems,...t]}):this.http.HTTP_AUTH(this.api.security["get-tree-menus"],null,null,null,["main"]).pipe((0,G.U)(o=>{this.nodeItems=[],this.nodeItems=[...this.nodeItems,...o]}))}select(t){this.onSelect.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-role-main-page"]],outputs:{onSelect:"onSelect"},features:[e.qOj],decls:6,vars:2,consts:[[1,"row"],[1,"col-md-4","col-lg-4"],[3,"nodeItems","options","selectedItems"],["treeMain",""],["nodeNameTemplate",""],[1,"node-action",3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"tree-ngx",2,3),e.NdJ("selectedItems",function(i){return o.select(i)}),e.YNc(4,ln,2,5,"ng-template",null,4,e.W1O),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("nodeItems",o.nodeItems)("options",o.options))},directives:[V,S.mk],styles:['.tree-ngx{display:flex;flex:1 1 auto;flex-direction:column;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.node{display:flex;flex:1 1 auto;flex-direction:column}.node-children{display:flex;flex:1 1 auto}.node-name{display:inline-block;padding:5px 0 5px 7px}.node-name.markSelected{padding:5px 0 5px 2px;border-left:5px #226699 solid}.node-name .active{cursor:pointer}.node-offset{display:flex;margin-left:20px}.node-icon-wrapper{position:relative;display:inline-block;width:25px;height:17px;top:1px;left:6px}.node-icon-wrapper.disabled{cursor:default}.collapsable{cursor:pointer}.node-container{display:inline-block}.nodeDisabled{opacity:.6}.node-checkbox{display:inline-block;position:relative;top:3px;left:5px;width:16px;height:16px;cursor:pointer}.node-checkbox:disabled{cursor:auto}.collapsible-wrapper{display:flex;overflow:hidden}.collapsible-wrapper:after{content:"";height:25px;transition:height .3s linear,max-height 0s .3s linear;max-height:0px}.collapsible{transition:margin-bottom .3s cubic-bezier(0,0,0,1);margin-bottom:0;max-height:1000000px}.collapsible-wrapper.collapsed>.collapsible{margin-bottom:-20000px;transition:margin-bottom .3s cubic-bezier(1,0,1,1),visibility 0s .3s,max-height 0s .3s;visibility:hidden;max-height:0}.collapsible-wrapper.collapsed:after{height:0;transition:height .3s linear;max-height:25px}.arrow-down{position:absolute;width:0;height:0;left:3px;top:6px;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #455A64}.arrow-down.collapse-empty{border-top:7px solid #ccc}.arrow-right{position:absolute;width:0;height:0;left:8px;top:3px;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #455A64}.nb-theme-default .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-default .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0;cursor:pointer}.nb-theme-default .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-default .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-default .action-trash:hover{color:#ff708d}.nb-theme-dark .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-dark .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#fff;border-radius:0;cursor:pointer}.nb-theme-dark .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-dark .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-dark .action-trash:hover{color:#ff708d}.nb-theme-cosmic .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-cosmic .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#fff;border-radius:0;cursor:pointer}.nb-theme-cosmic .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-cosmic .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-cosmic .action-trash:hover{color:#ff708d}.nb-theme-corporate .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-corporate .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0;cursor:pointer}.nb-theme-corporate .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-corporate .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-corporate .action-trash:hover{color:#ff708d}\n'],encapsulation:2}),n})();const sn=function(n){return{"node-action":n}};function dn(n,r){if(1&n&&(e.TgZ(0,"span",5),e._uU(1),e.qZA()),2&n){const t=r.node;e.Q6J("ngClass",e.VKq(2,sn,!t.item.group)),e.xp6(1),e.hij(" ",t.name," ")}}let $e=(()=>{class n extends p.o9{constructor(t,o){super(t),this.injector=t,this.roleService=o,this.onSelect=new e.vpe,this.nodeItems=[],this.options={mode:P.MultiSelect,checkboxes:!0,alwaysEmitSelected:!0},this.title=null,this.data=[]}ngOnInit(){}loadDataMenu(t){return t.length>0?(0,J.of)(()=>{this.nodeItems=[],this.nodeItems=[...this.nodeItems,...t]}):this.http.HTTP_AUTH(this.api.security["get-function-menus"],null,null,null,["extra",this.roleService.getRole().authority]).pipe((0,G.U)(o=>(this.nodeItems=[],this.nodeItems=[...this.nodeItems,...o],this.data=[],o.forEach(a=>{(null==a?void 0:a.children)?null==a||a.children.forEach(i=>{i.selected&&(this.data=[...this.data,i.item])}):a.selected&&(this.data=[...this.data,a.item])}),this.data)))}initDataMenu(t){return t.length>0?(0,J.of)(()=>{this.nodeItems=[],this.nodeItems=[...this.nodeItems,...t]}):this.http.HTTP_AUTH(this.api.security["get-tree-menus"],null,null,null,["extra"]).pipe((0,G.U)(o=>{this.nodeItems=[],this.nodeItems=[...this.nodeItems,...o]}))}select(t){this.onSelect.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-role-extra-page"]],outputs:{onSelect:"onSelect"},features:[e.qOj],decls:6,vars:2,consts:[[1,"row"],[1,"col-md-4","col-lg-4"],[3,"nodeItems","options","selectedItems"],["treeExtra",""],["nodeNameTemplate",""],[1,"node-action",3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"tree-ngx",2,3),e.NdJ("selectedItems",function(i){return o.select(i)}),e.YNc(4,dn,2,4,"ng-template",null,4,e.W1O),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("nodeItems",o.nodeItems)("options",o.options))},directives:[V,S.mk],styles:['.tree-ngx{display:flex;flex:1 1 auto;flex-direction:column;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif}.node{display:flex;flex:1 1 auto;flex-direction:column}.node-children{display:flex;flex:1 1 auto}.node-name{display:inline-block;padding:5px 0 5px 7px}.node-name.markSelected{padding:5px 0 5px 2px;border-left:5px #226699 solid}.node-name .active{cursor:pointer}.node-offset{display:flex;margin-left:20px}.node-icon-wrapper{position:relative;display:inline-block;width:25px;height:17px;top:1px;left:6px}.node-icon-wrapper.disabled{cursor:default}.collapsable{cursor:pointer}.node-container{display:inline-block}.nodeDisabled{opacity:.6}.node-checkbox{display:inline-block;position:relative;top:3px;left:5px;width:16px;height:16px;cursor:pointer}.node-checkbox:disabled{cursor:auto}.collapsible-wrapper{display:flex;overflow:hidden}.collapsible-wrapper:after{content:"";height:25px;transition:height .3s linear,max-height 0s .3s linear;max-height:0px}.collapsible{transition:margin-bottom .3s cubic-bezier(0,0,0,1);margin-bottom:0;max-height:1000000px}.collapsible-wrapper.collapsed>.collapsible{margin-bottom:-20000px;transition:margin-bottom .3s cubic-bezier(1,0,1,1),visibility 0s .3s,max-height 0s .3s;visibility:hidden;max-height:0}.collapsible-wrapper.collapsed:after{height:0;transition:height .3s linear;max-height:25px}.arrow-down{position:absolute;width:0;height:0;left:3px;top:6px;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #455A64}.arrow-down.collapse-empty{border-top:7px solid #ccc}.arrow-right{position:absolute;width:0;height:0;left:8px;top:3px;border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #455A64}.nb-theme-default .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-default .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0;cursor:pointer}.nb-theme-default .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-default .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-default .action-trash:hover{color:#ff708d}.nb-theme-dark .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-dark .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#fff;border-radius:0;cursor:pointer}.nb-theme-dark .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-dark .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-dark .action-trash:hover{color:#ff708d}.nb-theme-cosmic .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-cosmic .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#fff;border-radius:0;cursor:pointer}.nb-theme-cosmic .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-cosmic .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-cosmic .action-trash:hover{color:#ff708d}.nb-theme-corporate .node-checkbox{display:inline-block;position:relative;padding:0;top:3px;left:5px;width:1.25rem;height:1.25rem;margin:0 .25rem;cursor:pointer}.nb-theme-corporate .node-action{font-family:Open Sans,sans-serif;font-weight:600;line-height:1.5rem;color:#222b45;border-radius:0;cursor:pointer}.nb-theme-corporate .node-action:hover{background-color:transparent;color:#598bff;cursor:pointer}.nb-theme-corporate .tree-action{margin-left:.5rem;cursor:pointer}.nb-theme-corporate .action-trash:hover{color:#ff708d}\n'],encapsulation:2}),n})();const pn=["mainRole"],mn=["extraRole"];const un=[{path:"",component:je,canActivateChild:[x.Cy],children:[{path:"",component:He,data:{code:"#MANAGEMENT-ROLE-PAGE"}},{path:":action",component:(()=>{class n extends p.o9{constructor(t,o,a,i){var d,m;super(t,{authority:[],level:[],description:[],group:[],mainMenus:[],extraMenus:[]}),this.injector=t,this.router=o,this.route=a,this.roleService=i,this.action="Add",this.dataDefault=[{selected:!1}],this.loading=!1,this.tab="main",this.mainData=[],this.extraData=[],this.apiSelectGroup=this.api.security["select-group"],"edit"===this.route.snapshot.params.action&&(this.action="Edit",this.roleService.getRole()||this.router.navigate(["/app/mgmt/role"])),this.roleService.getRole()&&"edit"===this.route.snapshot.params.action&&(this.title=this.roleService.getRole().description,this.formGroup.get("authority").setValue(this.roleService.getRole().authority),this.formGroup.get("authority").disable(),this.formGroup.get("level").setValue(this.roleService.getRole().level),this.formGroup.get("description").setValue(this.roleService.getRole().description),this.formGroup.get("group").setValue({value:null===(d=this.roleService.getRole().group)||void 0===d?void 0:d.code,label:null===(m=this.roleService.getRole().group)||void 0===m?void 0:m.name}))}ngOnInit(){}onReset(){this.router.navigate(["/app/mgmt/role"])}onSubmit(){const t=new c.Fz;this.formGroup.get("group").value.value&&(t.code=this.formGroup.get("group").value.value,t.name=this.formGroup.get("group").value.label);const o={authority:this.formGroup.get("authority").value,level:this.formGroup.get("level").value,description:this.formGroup.get("description").value,group:t},a=[];this.mainData.forEach(m=>{a.push(m.id),m.parentMenu.id&&(a.includes(m.parentMenu.id)||a.push(m.parentMenu.id))});const i=[];this.extraData.forEach(m=>{i.push(m.id),m.parentMenu.id&&(i.includes(m.parentMenu.id)||i.push(m.parentMenu.id))}),super.onSubmit({role:o,main:a,extra:i},"security","post-function-role").pipe((0,h.R)(this.destroy$)).subscribe(m=>{m.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.router.navigate(["/app/mgmt/role"])})}toggleLoadingAnimation(t){this.tab=t.tabId,this.loading=!0,"main"===this.tab?this.roleService.getRole()&&"Edit"===this.action?this.mainMenu.loadDataMenu(this.mainData).pipe((0,h.R)(this.destroy$)).subscribe(o=>{this.loading=!1,0===this.mainData.length&&(this.mainData=o,this.formGroup.get("mainMenus").setValue(this.mainData))}):this.mainMenu.initDataMenu(this.mainData).pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1}):this.roleService.getRole()&&"Edit"===this.action?this.extraMenu.loadDataMenu(this.extraData).pipe((0,h.R)(this.destroy$)).subscribe(o=>{this.loading=!1,0===this.extraData.length&&(this.extraData=o,this.formGroup.get("extraMenus").setValue(this.extraData))}):this.extraMenu.initDataMenu(this.extraData).pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1})}onSelectMain(t){this.mainData.length!==t.length&&(this.disabled=!1,this.formGroup.get("mainMenus").markAsDirty()),this.mainData=[],this.mainData=[...this.mainData,...t],this.formGroup.get("mainMenus").setValue(this.mainData)}onSelectExtra(t){this.extraData.length!==t.length&&(this.disabled=!1,this.formGroup.get("extraMenus").markAsDirty()),this.extraData=[],this.extraData=[...this.extraData,...t],this.formGroup.get("extraMenus").setValue(this.extraData)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(u.gz),e.Y36(U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-language-add-edit-page"]],viewQuery:function(t,o){if(1&t&&(e.Gf(pn,7),e.Gf(mn,7)),2&t){let a;e.iGM(a=e.CRH())&&(o.mainMenu=a.first),e.iGM(a=e.CRH())&&(o.extraMenu=a.first)}},features:[e.qOj],decls:19,vars:31,consts:[[3,"header","url"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"formGroup"],["formControlName","authority",3,"name","label","required"],["formControlName","level",3,"name","label","required","type"],["formControlName","description",3,"name","label","required"],["formControlName","group",3,"name","label","required","searchable","api"],["fullWidth","",3,"changeTab"],["tabId","main","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"tabTitle","nbSpinner"],[3,"onSelect"],["mainRole",""],["tabId","extra","nbSpinnerStatus","info","nbSpinnerSize","giant",3,"tabTitle","lazyLoad","nbSpinner"],["extraRole",""],["pagefooter","",3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e._UZ(4,"do-input-text",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-input-text",6),e._UZ(7,"do-select",7),e.qZA(),e.qZA(),e.TgZ(8,"div",2),e.TgZ(9,"nb-tabset",8),e.NdJ("changeTab",function(i){return o.toggleLoadingAnimation(i)}),e.TgZ(10,"nb-tab",9),e.ALo(11,"translate"),e.TgZ(12,"do-role-main-page",10,11),e.NdJ("onSelect",function(i){return o.onSelectMain(i)}),e.qZA(),e.qZA(),e.TgZ(14,"nb-tab",12),e.ALo(15,"translate"),e.TgZ(16,"do-role-extra-page",10,13),e.NdJ("onSelect",function(i){return o.onSelectExtra(i)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"do-button-submit",14),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header."+o.action+"-role")("url","/app/mgmt/role"),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","authority")("label","Authority")("required",!0),e.xp6(1),e.Q6J("name","level")("label","Level")("required",!0)("type","number"),e.xp6(1),e.Q6J("name","description")("label","Description")("required",!0),e.xp6(1),e.Q6J("name","group")("label","Group")("required",!0)("searchable",!1)("api",o.apiSelectGroup),e.xp6(3),e.s9C("tabTitle",e.lcZ(11,27,"tab.main-menu")),e.Q6J("nbSpinner",o.loading),e.xp6(4),e.s9C("tabTitle",e.lcZ(15,29,"tab.extra-menu")),e.Q6J("lazyLoad",!0)("nbSpinner",o.loading),e.xp6(4),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled))},directives:[y.e,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,O.r,s.kyn,s.TR4,s.Q7R,Xe,$e,C.r],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{flex:1;padding-top:1.5rem!important;padding-left:.25rem!important}.nb-theme-dark   [_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{flex:1;padding-top:1.5rem!important;padding-left:.25rem!important}.nb-theme-cosmic   [_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{flex:1;padding-top:1.5rem!important;padding-left:.25rem!important}.nb-theme-corporate   [_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{flex:1;padding-top:1.5rem!important;padding-left:.25rem!important}"]}),n})(),data:{code:"#MANAGEMENT-ROLE-PAGE"}}]}];let cn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(un)],u.Bz]}),n})();const hn=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.j7H.forChild(),s.EoG,s.uuI,Be,M.uX,p.K1,p._s,p.B0,p.Gp,p.DG,p.Qz,cn],fn=[U];let gn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...fn],imports:[[...hn]]}),n})(),Ke=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-mgmt-corporate"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})(),ne=(()=>{class n{getCorporate(){return this.corporate}setCorporate(t){this.corporate=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function bn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",8),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",9),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onDelete(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,9,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle","Delete")("resetTitle","Cancel")("disabledButton",o.disabled)}}let et=(()=>{class n extends p.Ce{constructor(t,o,a,i){super(t,{corporateCode:[],corporateName:[]}),this.injector=t,this.router=o,this.corporateService=a,this.dialogService=i,this.columns=[{name:"Code",prop:"corporateCode",width:75,frozenLeft:!0},{name:"Name",prop:"corporateName",width:275,frozenLeft:!0},{name:"Telp",prop:"telpNumber",width:100,frozenLeft:!0},{name:"Fax",prop:"faxNumber",width:100,frozenLeft:!0},{name:"Email",prop:"email",width:175},{name:"Address",prop:"address"},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"}],this.reload=!1,this.expanded=!1,this.apiPath=this.api.security["datatable-corporate"],this.apiPathDelete=this.api.security["delete-corporate"],this.sort={asc:["corporateCode"]},this.filters=[{controlName:"corporateCode",type:"input"},{controlName:"corporateName",type:"input"}]}ngOnInit(){}onAdd(){this.corporateService.setCorporate(null),this.router.navigate(["/app/mgmt/corporate","add"])}onViewDetail(t){this.corporateService.setCorporate(t),this.router.navigate(["/app/mgmt/corporate","edit"])}onDeleteDialog(t,o){this.reload=!1,this.corporateCodes=[],t.forEach(a=>{this.corporateCodes.push(a.corporateCode)}),this.dialogService.open(o,{context:"alert.delete"})}onDelete(t){this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDelete,this.corporateCodes).pipe((0,h.R)(this.destroy$)).subscribe(o=>{t.close(),this.disabled=!1,this.reload=!0,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0)},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}onReset(){this.router.navigate(["/app/mgmt/corporate"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(ne),e.Y36(s.Gln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-corporate-list-page"]],features:[e.qOj],decls:9,vars:13,consts:[[3,"header","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","formGroupFilter","filters","sort","reloadFn","columns","onAdd","onEdit","onDelete"],[3,"formGroup"],["formControlName","corporateCode",3,"name","label"],["formControlName","corporateName",3,"name","label"],["dialogdelete",""],["accent","danger"],[3,"colLabel","colButton","submitTitle","resetTitle","disabledButton","onReset","onSubmit"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"do-datatable",3),e.NdJ("onAdd",function(){return o.onAdd()})("onEdit",function(d){return o.onViewDetail(d)})("onDelete",function(d){e.CHM(a);const m=e.MAs(8);return o.onDeleteDialog(d,m)}),e.TgZ(4,"form",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-input-text",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,bn,9,11,"ng-template",null,7,e.W1O)}2&t&&(e.Q6J("header","header.corporate-management")("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("sort",o.sort)("reloadFn",o.reload)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","corporateCode")("label","Corporate Code"),e.xp6(1),e.Q6J("name","corporateName")("label","Corporate Name"))},directives:[y.e,E.I,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,s.Asz,s.ndF,s.yKW,s.XWE,C.r],pipes:[b.X$],styles:[""]}),n})();var L=f(7136);const _n=function(){return{value:5}};const Cn=[{path:"",component:Ke,canActivateChild:[x.Cy],children:[{path:"",component:et,data:{code:"#MANAGEMENT-CORPORATE-PAGE"}},{path:":action",component:(()=>{class n extends p.o9{constructor(t,o,a,i){super(t,{corporateCode:[],corporateName:[],corporateNonExpired:[],email:[],address:[],telpNumber:[],faxNumber:[]}),this.injector=t,this.router=o,this.route=a,this.corporateService=i,this.action="Add",this.patternEmail=c.cf.EMAIL,this.patternPhoneNumber=c.cf.PHONE_NUMBER,this.dataDefault=[{id:"corporateNonExpired",selected:!0}],this.corporateService.getCorporate()||"add"===this.route.snapshot.params.action?"edit"===this.route.snapshot.params.action&&(this.action="Edit",this.formGroup.get("corporateCode").setValue(this.corporateService.getCorporate().corporateCode),this.formGroup.get("corporateName").setValue(this.corporateService.getCorporate().corporateName),this.formGroup.get("email").setValue(this.corporateService.getCorporate().email),this.formGroup.get("address").setValue(this.corporateService.getCorporate().address),this.formGroup.get("telpNumber").setValue(this.corporateService.getCorporate().telpNumber),this.formGroup.get("faxNumber").setValue(this.corporateService.getCorporate().faxNumber),this.formGroup.get("corporateNonExpired").setValue([{id:"corporateNonExpired",selected:!!this.corporateService.getCorporate().corporateNonExpired}]),this.formGroup.get("corporateCode").disable()):this.router.navigate(["/app/mgmt/corporate"])}ngOnInit(){}onReset(){this.router.navigate(["/app/mgmt/corporate"])}onSubmit(){const t=this.formGroup.get("corporateNonExpired").value,o={corporateCode:this.formGroup.get("corporateCode").value,corporateName:this.formGroup.get("corporateName").value,corporateNonExpired:!!t,email:this.formGroup.get("email").value,address:this.formGroup.get("address").value,telpNumber:this.formGroup.get("telpNumber").value,faxNumber:this.formGroup.get("faxNumber").value};super.onSubmit(o,"security","post-corporate").pipe((0,h.R)(this.destroy$)).subscribe(a=>{a.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.router.navigate(["/app/mgmt/corporate"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(u.gz),e.Y36(ne))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-corporate-add-edit-page"]],features:[e.qOj],decls:12,vars:39,consts:[[3,"header","url"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"formGroup"],["formControlName","corporateCode",3,"name","label","required","skeleton"],["formControlName","corporateName",3,"name","label","required","skeleton"],["formControlName","corporateNonExpired",3,"name","label","data"],["formControlName","email",3,"name","label","required","pattern","paramError","skeleton"],["formControlName","address",3,"name","label","required","minLength","skeleton"],["formControlName","telpNumber",3,"name","label","required","pattern","skeleton"],["formControlName","faxNumber",3,"name","label","pattern","skeleton"],["pagefooter","",3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e._UZ(4,"do-input-text",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-checkbox",6),e._UZ(7,"do-input-text",7),e._UZ(8,"do-textarea",8),e._UZ(9,"do-input-text",9),e._UZ(10,"do-input-text",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"do-button-submit",11),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header."+o.action+"-corporate")("url","/app/mgmt/corporate"),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","corporateCode")("label","Corporate Code")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","corporateName")("label","Corporate Name")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","corporateNonExpired")("label","Non Expired")("data",o.dataDefault),e.xp6(1),e.Q6J("name","email")("label","Email")("required",!0)("pattern",o.patternEmail)("paramError",e.DdM(38,_n))("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","address")("label","Address")("required",!0)("minLength",5)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","telpNumber")("label","Telp.")("required",!0)("pattern",o.patternPhoneNumber)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","faxNumber")("label","Fax.")("pattern",o.patternPhoneNumber)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled))},directives:[y.e,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,R.l,l.c5,L.j,C.r],styles:[""]}),n})(),data:{code:"#MANAGEMENT-CORPORATE-PAGE"}}]}];let vn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(Cn)],u.Bz]}),n})();const yn=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.j7H.forChild(),s.EoG,s.uuI,M.uX,p.K1,p._s,p.B0,p.Gp,p.DG,p.Qz,p.xj,vn],Tn=[ne];let Pn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...Tn],imports:[[...yn]]}),n})(),ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-mgmt-apps"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})(),ae=(()=>{class n{getApps(){return this.apps}setApps(t){this.apps=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Sn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",8),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",9),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onDelete(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,9,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle","Delete")("resetTitle","Cancel")("disabledButton",o.disabled)}}const An=[{path:"",component:ot,canActivateChild:[x.Cy],children:[{path:"",component:(()=>{class n extends p.Ce{constructor(t,o,a,i){super(t,{appCode:[],appName:[]}),this.injector=t,this.router=o,this.appsService=a,this.dialogService=i,this.columns=[{name:"Code",prop:"appCode",width:150,frozenLeft:!0},{name:"Name",prop:"appName",width:150,frozenLeft:!0},{name:"Description",prop:"description",width:200,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"},{name:"Active",prop:"active"}],this.reload=!1,this.expanded=!1,this.apiPath=this.api.security["datatable-apps"],this.apiPathDelete=this.api.security["delete-apps"],this.sort={asc:["appCode"]},this.filters=[{controlName:"appCode",type:"input"},{controlName:"appName",type:"input"}]}ngOnInit(){}onAdd(){this.appsService.setApps(null),this.router.navigate(["/app/mgmt/apps","add"])}onViewDetail(t){this.appsService.setApps(t),this.router.navigate(["/app/mgmt/apps","edit"])}onDeleteDialog(t,o){this.reload=!1,this.appCodes=[],t.forEach(a=>{this.appCodes.push(a.appCode)}),this.dialogService.open(o,{context:"alert.delete"})}onDelete(t){this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDelete,this.appCodes).pipe((0,h.R)(this.destroy$)).subscribe(o=>{t.close(),this.disabled=!1,this.reload=!0,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0)},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}onReset(){this.router.navigate(["/app/mgmt/apps"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(ae),e.Y36(s.Gln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-apps-list-page"]],features:[e.qOj],decls:9,vars:13,consts:[[3,"header","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","formGroupFilter","filters","sort","reloadFn","columns","onAdd","onEdit","onDelete"],[3,"formGroup"],["formControlName","appCode",3,"name","label"],["formControlName","appName",3,"name","label"],["dialogdelete",""],["accent","danger"],[3,"colLabel","colButton","submitTitle","resetTitle","disabledButton","onReset","onSubmit"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"do-datatable",3),e.NdJ("onAdd",function(){return o.onAdd()})("onEdit",function(d){return o.onViewDetail(d)})("onDelete",function(d){e.CHM(a);const m=e.MAs(8);return o.onDeleteDialog(d,m)}),e.TgZ(4,"form",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-input-text",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,Sn,9,11,"ng-template",null,7,e.W1O)}2&t&&(e.Q6J("header","header.apps-management")("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("sort",o.sort)("reloadFn",o.reload)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","appCode")("label","App Code"),e.xp6(1),e.Q6J("name","appName")("label","App Name"))},directives:[y.e,E.I,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,s.Asz,s.ndF,s.yKW,s.XWE,C.r],pipes:[b.X$],styles:[""]}),n})(),data:{code:"#MANAGEMENT-APPS-PAGE"}},{path:":action",component:(()=>{class n extends p.o9{constructor(t,o,a,i){super(t,{appCode:[],appName:[],description:[]}),this.injector=t,this.router=o,this.route=a,this.appsService=i,this.action="Add",this.appsService.getApps()||"add"===this.route.snapshot.params.action?"edit"===this.route.snapshot.params.action&&(this.action="Edit",this.formGroup.get("appCode").setValue(this.appsService.getApps().appCode),this.formGroup.get("appName").setValue(this.appsService.getApps().appName),this.formGroup.get("description").setValue(this.appsService.getApps().description),this.formGroup.get("appCode").disable()):this.router.navigate(["/app/mgmt/apps"])}ngOnInit(){}onReset(){this.router.navigate(["/app/mgmt/apps"])}onSubmit(){const t={appCode:this.formGroup.get("appCode").value,appName:this.formGroup.get("appName").value,description:this.formGroup.get("description").value};super.onSubmit(t,"security","post-apps").pipe((0,h.R)(this.destroy$)).subscribe(o=>{o.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.router.navigate(["/app/mgmt/apps"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(u.gz),e.Y36(ae))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-apps-add-edit-page"]],features:[e.qOj],decls:8,vars:19,consts:[[3,"header","url"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"formGroup"],["formControlName","appCode",3,"name","label","required","skeleton"],["formControlName","appName",3,"name","label","required","skeleton"],["formControlName","description",3,"name","label","minLength","skeleton"],["pagefooter","",3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e._UZ(4,"do-input-text",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-textarea",6),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"do-button-submit",7),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header."+o.action+"-apps")("url","/app/mgmt/apps"),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","appCode")("label","App Code")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","appName")("label","App Name")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","description")("label","Description")("minLength",5)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled))},directives:[y.e,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,L.j,C.r],styles:[""]}),n})(),data:{code:"#MANAGEMENT-APPS-PAGE"}}]}];let En=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(An)],u.Bz]}),n})();const Zn=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.j7H.forChild(),s.EoG,s.uuI,M.uX,p.K1,p._s,p.B0,p.Gp,p.DG,p.Qz,p.xj,En],xn=[ae];let Nn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...xn],imports:[[...Zn]]}),n})(),rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-mgmt-occupation"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})(),re=(()=>{class n{getOccupation(){return this.occupation}setOccupation(t){this.occupation=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Mn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",8),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",9),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onDelete(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,9,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle","Delete")("resetTitle","Cancel")("disabledButton",o.disabled)}}const Gn=[{path:"",component:rt,canActivateChild:[x.Cy],children:[{path:"",component:(()=>{class n extends p.Ce{constructor(t,o,a,i){super(t,{code:[],name:[]}),this.injector=t,this.router=o,this.occupationService=a,this.dialogService=i,this.columns=[{name:"Code",prop:"code",width:225,frozenLeft:!0},{name:"Name",prop:"name",width:225,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"}],this.reload=!1,this.expanded=!1,this.apiPath=this.api.security["datatable-occupation"],this.apiPathDelete=this.api.security["delete-occupation"],this.sort={asc:["code"]},this.filters=[{controlName:"code",type:"input"},{controlName:"name",type:"input"}]}ngOnInit(){}onAdd(){this.occupationService.setOccupation(null),this.router.navigate(["/app/mgmt/occupation","add"])}onViewDetail(t){this.occupationService.setOccupation(t),this.router.navigate(["/app/mgmt/occupation","edit"])}onDeleteDialog(t,o){this.reload=!1,this.occupationCodes=[],t.forEach(a=>{this.occupationCodes.push(a.code)}),this.dialogService.open(o,{context:"alert.delete"})}onDelete(t){this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDelete,this.occupationCodes).pipe((0,h.R)(this.destroy$)).subscribe(o=>{t.close(),this.disabled=!1,this.reload=!0,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0)},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}onReset(){this.router.navigate(["/app/mgmt/occupation"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(re),e.Y36(s.Gln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-occupation-list-page"]],features:[e.qOj],decls:9,vars:13,consts:[[3,"header","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","formGroupFilter","filters","sort","reloadFn","columns","onAdd","onEdit","onDelete"],[3,"formGroup"],["formControlName","code",3,"name","label"],["formControlName","name",3,"name","label"],["dialogdelete",""],["accent","danger"],[3,"colLabel","colButton","submitTitle","resetTitle","disabledButton","onReset","onSubmit"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"do-datatable",3),e.NdJ("onAdd",function(){return o.onAdd()})("onEdit",function(d){return o.onViewDetail(d)})("onDelete",function(d){e.CHM(a);const m=e.MAs(8);return o.onDeleteDialog(d,m)}),e.TgZ(4,"form",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-input-text",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,Mn,9,11,"ng-template",null,7,e.W1O)}2&t&&(e.Q6J("header","header.occupation-management")("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("sort",o.sort)("reloadFn",o.reload)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","code")("label","Occupation Code"),e.xp6(1),e.Q6J("name","name")("label","Occupation Name"))},directives:[y.e,E.I,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,s.Asz,s.ndF,s.yKW,s.XWE,C.r],pipes:[b.X$],styles:[""]}),n})(),data:{code:"#MANAGEMENT-OCCUPATION-PAGE"}},{path:":action",component:(()=>{class n extends p.o9{constructor(t,o,a,i){super(t,{code:[],name:[]}),this.injector=t,this.router=o,this.route=a,this.occupationService=i,this.action="Add",this.dataDefault=[{selected:!0}],this.occupationService.getOccupation()||"add"===this.route.snapshot.params.action?"edit"===this.route.snapshot.params.action&&(this.action="Edit",this.formGroup.get("code").setValue(this.occupationService.getOccupation().code),this.formGroup.get("name").setValue(this.occupationService.getOccupation().name),this.formGroup.get("code").disable()):this.router.navigate(["/app/mgmt/occupation"])}ngOnInit(){}onReset(){this.router.navigate(["/app/mgmt/occupation"])}onSubmit(){const t={code:this.formGroup.get("code").value,name:this.formGroup.get("name").value};super.onSubmit(t,"security","post-occupation").pipe((0,h.R)(this.destroy$)).subscribe(o=>{o.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.router.navigate(["/app/mgmt/occupation"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(u.gz),e.Y36(re))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-occupation-add-edit-page"]],features:[e.qOj],decls:7,vars:15,consts:[[3,"header","url"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"formGroup"],["formControlName","code",3,"name","label","required","skeleton"],["formControlName","name",3,"name","label","required","skeleton"],["pagefooter","",3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e._UZ(4,"do-input-text",4),e._UZ(5,"do-input-text",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"do-button-submit",6),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header."+o.action+"-occupation")("url","/app/mgmt/occupation"),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","code")("label","Occupation Code")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","name")("label","Occupation Name")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled))},directives:[y.e,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,C.r],styles:[""]}),n})(),data:{code:"#MANAGEMENT-OCCUPATION-PAGE"}}]}];let kn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(Gn)],u.Bz]}),n})();const On=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.j7H.forChild(),s.EoG,s.uuI,M.uX,p.K1,p._s,p.B0,p.Gp,p.DG,p.Qz,p.xj,kn],In=[re];let wn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...In],imports:[[...On]]}),n})(),st=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-mgmt-business-partner"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})(),ie=(()=>{class n{getB2B(){return this.b2b}setB2B(t){this.b2b=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),dt=(()=>{class n extends p.Ce{constructor(t,o,a){super(t,{bpName:[]}),this.injector=t,this.router=o,this.businessPartnerService=a,this.selectionType=F.RT.single,this.columns=[{name:"Business Partner",prop:"businessPartner.bpName",width:275,frozenLeft:!0},{name:"Telp",prop:"businessPartner.telpNumber",width:100,frozenLeft:!0},{name:"Fax",prop:"businessPartner.faxNumber",width:100,frozenLeft:!0},{name:"Email",prop:"businessPartner.email",width:175},{name:"Address",prop:"businessPartner.address"},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"}],this.expanded=!1,this.sort={asc:["businessPartner.bpName"]},this.apiPath=this.api.master["datatable-business-partner"],this.filters=[{controlName:"bpName",type:"input"}]}ngOnInit(){}onAdd(){this.businessPartnerService.setB2B(null),this.router.navigate(["/app/mgmt/business-partner","add"])}onViewDetail(t){this.businessPartnerService.setB2B(t),this.router.navigate(["/app/mgmt/business-partner","edit"])}onReset(){this.router.navigate(["/app/mgmt/business-partner"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(ie))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-business-partner-list-page"]],features:[e.qOj],decls:6,vars:12,consts:[[3,"header","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","formGroupFilter","filters","sort","delete","selectionType","columns","onAdd","onEdit"],[3,"formGroup"],["formControlName","bpName",3,"name","label"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"do-datatable",3),e.NdJ("onAdd",function(){return o.onAdd()})("onEdit",function(i){return o.onViewDetail(i)}),e.TgZ(4,"form",4),e._UZ(5,"do-input-text",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header.business-partner-management")("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("sort",o.sort)("delete",!1)("selectionType",o.selectionType)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","bpName")("label","Business Partner"))},directives:[y.e,E.I,l._Y,l.JL,l.sg,_.v,l.JJ,l.u],styles:[""]}),n})();var le=f(9057);const Dn=function(){return{value:5}};const qn=[{path:"",component:st,canActivateChild:[x.Cy],children:[{path:"",component:dt,data:{code:"#MANAGEMENT-BP-PAGE"}},{path:":action",component:(()=>{class n extends p.o9{constructor(t,o,a,i){super(t,{bpName:[],email:[],address:[],telpNumber:[],faxNumber:[],b2bNonExpired:[],expiredTime:[]}),this.injector=t,this.router=o,this.route=a,this.businessPartnerService=i,this.action="Add",this.patternEmail=c.cf.EMAIL,this.patternPhoneNumber=c.cf.PHONE_NUMBER,this.dataDefault=[{id:"b2bNonExpired",selected:!0}],this.isB2bNonExpired=!0,this.businessPartnerService.getB2B()||"add"===this.route.snapshot.params.action?"edit"===this.route.snapshot.params.action?(this.action="Edit",this.formGroup.get("bpName").setValue(this.businessPartnerService.getB2B().businessPartner.bpName),this.formGroup.get("email").setValue(this.businessPartnerService.getB2B().businessPartner.email),this.formGroup.get("address").setValue(this.businessPartnerService.getB2B().businessPartner.address),this.formGroup.get("telpNumber").setValue(this.businessPartnerService.getB2B().businessPartner.telpNumber),this.formGroup.get("faxNumber").setValue(this.businessPartnerService.getB2B().businessPartner.faxNumber),this.formGroup.get("b2bNonExpired").setValue([{id:"b2bNonExpired",selected:!!this.businessPartnerService.getB2B().b2bNonExpired}]),this.formGroup.get("expiredTime").setValue(this.businessPartnerService.getB2B().expiredTime),this.isB2bNonExpired=this.businessPartnerService.getB2B().b2bNonExpired):this.formGroup.get("b2bNonExpired").setValue(this.dataDefault):this.router.navigate(["/app/mgmt/business-partner"])}ngOnInit(){}onReset(){this.router.navigate(["/app/mgmt/business-partner"])}onCheckB2bNonExpired(t){this.isB2bNonExpired=!!t}onSubmit(){var t;const o=this.formGroup.get("b2bNonExpired").value,a={id:null===(t=this.businessPartnerService.getB2B())||void 0===t?void 0:t.id,b2bNonExpired:!!o,expiredTime:this.isB2bNonExpired?null:this.formGroup.get("expiredTime").value,businessPartner:{bpName:this.formGroup.get("bpName").value,email:this.formGroup.get("email").value,address:this.formGroup.get("address").value,telpNumber:this.formGroup.get("telpNumber").value,faxNumber:this.formGroup.get("faxNumber").value}};super.onSubmit(a,"master","post-business-partner").pipe((0,h.R)(this.destroy$)).subscribe(i=>{i.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.router.navigate(["/app/mgmt/business-partner"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(u.gz),e.Y36(ie))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-business-partner-add-edit-page"]],features:[e.qOj],decls:12,vars:39,consts:[[3,"header","url"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"formGroup"],["formControlName","bpName",3,"name","label","required","skeleton"],["formControlName","b2bNonExpired",3,"name","label","data","onChecked"],["formControlName","expiredTime",3,"show","name","label","required"],["formControlName","email",3,"name","label","required","pattern","paramError","skeleton"],["formControlName","address",3,"name","label","required","minLength","skeleton"],["formControlName","telpNumber",3,"name","label","required","pattern","skeleton"],["formControlName","faxNumber",3,"name","label","pattern","skeleton"],["pagefooter","",3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e._UZ(4,"do-input-text",4),e.TgZ(5,"do-checkbox",5),e.NdJ("onChecked",function(i){return o.onCheckB2bNonExpired(i)}),e.qZA(),e._UZ(6,"do-datepicker",6),e._UZ(7,"do-input-text",7),e._UZ(8,"do-textarea",8),e._UZ(9,"do-input-text",9),e._UZ(10,"do-input-text",10),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"do-button-submit",11),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header."+o.action+"-business-partner")("url","/app/mgmt/business-partner"),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","bpName")("label","Business Partner Name")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","b2bNonExpired")("label","Non Expired")("data",o.dataDefault),e.xp6(1),e.Q6J("show",!o.isB2bNonExpired)("name","expiredTime")("label","Expired Date")("required",!o.isB2bNonExpired),e.xp6(1),e.Q6J("name","email")("label","Email")("required",!0)("pattern",o.patternEmail)("paramError",e.DdM(38,Dn))("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","address")("label","Address")("required",!0)("minLength",5)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","telpNumber")("label","Telp.")("required",!0)("pattern",o.patternPhoneNumber)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","faxNumber")("label","Fax.")("pattern",o.patternPhoneNumber)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled))},directives:[y.e,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,R.l,le.T,l.c5,L.j,C.r],styles:[""]}),n})(),data:{code:"#MANAGEMENT-BP-PAGE"}}]}];let Jn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(qn)],u.Bz]}),n})();const Ln=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.j7H.forChild(),s.EoG,s.uuI,M.uX,p.K1,p._s,p.B0,p.Gp,p.DG,p.Qz,p.xj,p.Mu,Jn],Fn=[ie];let Rn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...Fn],imports:[[...Ln]]}),n})(),mt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-mgmt-inventory"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})(),se=(()=>{class n{getAsset(){return this.asset}setAsset(t){this.asset=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Qn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",8),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",9),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onDelete(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,9,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle","Delete")("resetTitle","Cancel")("disabledButton",o.disabled)}}const Bn=[{path:"",component:mt,canActivateChild:[x.Cy],children:[{path:"",component:(()=>{class n extends p.Ce{constructor(t,o,a,i){super(t,{assetName:[],assetCondition:[]}),this.injector=t,this.router=o,this.inventoryService=a,this.dialogService=i,this.columns=[{name:"Asset Name",prop:"assetName",width:175,frozenLeft:!0},{name:"Condition",prop:"assetConditionValue",width:100,frozenLeft:!0},{name:"Quantity",prop:"quantity",width:75,frozenLeft:!0},{name:"Location",prop:"location",width:225,frozenLeft:!0},{name:"Created",prop:"createdBy"},{name:"Created Date",prop:"createdDate"},{name:"Modified",prop:"modifiedBy"},{name:"Modified Date",prop:"modifiedDate"}],this.reload=!1,this.expanded=!1,this.apiPath=this.api.master["datatable-inventory"],this.apiPathDelete=this.api.master["delete-inventory"],this.sort={asc:["businessPartner.bpName"]},this.filters=[{controlName:"assetName",type:"input"},{controlName:"assetCondition",type:"input"}]}ngOnInit(){}onAdd(){this.inventoryService.setAsset(null),this.router.navigate(["/app/mgmt/inventory","add"])}onViewDetail(t){this.inventoryService.setAsset(t),this.router.navigate(["/app/mgmt/inventory","edit"])}onDeleteDialog(t,o){this.reload=!1,this.assetIds=[],t.forEach(a=>{this.assetIds.push(a.id)}),this.dialogService.open(o,{context:"alert.delete"})}onDelete(t){this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDelete,this.assetIds).pipe((0,h.R)(this.destroy$)).subscribe(o=>{t.close(),this.disabled=!1,this.reload=!0,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0)},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}onReset(){this.router.navigate(["/app/mgmt/inventory"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(se),e.Y36(s.Gln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-inventory-list-page"]],features:[e.qOj],decls:9,vars:13,consts:[[3,"header","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","formGroupFilter","filters","sort","reloadFn","columns","onAdd","onEdit","onDelete"],[3,"formGroup"],["formControlName","assetName",3,"name","label"],["formControlName","assetCondition",3,"name","label"],["dialogdelete",""],["accent","danger"],[3,"colLabel","colButton","submitTitle","resetTitle","disabledButton","onReset","onSubmit"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"do-datatable",3),e.NdJ("onAdd",function(){return o.onAdd()})("onEdit",function(d){return o.onViewDetail(d)})("onDelete",function(d){e.CHM(a);const m=e.MAs(8);return o.onDeleteDialog(d,m)}),e.TgZ(4,"form",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-input-text",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(7,Qn,9,11,"ng-template",null,7,e.W1O)}2&t&&(e.Q6J("header","header.inventory-management")("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("sort",o.sort)("reloadFn",o.reload)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","assetName")("label","Asset Name"),e.xp6(1),e.Q6J("name","assetCondition")("label","Condition"))},directives:[y.e,E.I,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,s.Asz,s.ndF,s.yKW,s.XWE,C.r],pipes:[b.X$],styles:[""]}),n})(),data:{code:"#MANAGEMENT-INVENTORY-PAGE"}},{path:":action",component:(()=>{class n extends p.o9{constructor(t,o,a,i){var d,m,g;super(t,{assetName:[],assetCondition:[],quantity:[],description:[],atOffice:[],businessPartner:[]}),this.injector=t,this.router=o,this.route=a,this.inventoryService=i,this.action="Add",this.dataDefault=[{id:"atOffice",name:"At Office",selected:!0}],this.isAtOffice=!0,this.inventoryService.getAsset()||"add"===this.route.snapshot.params.action?(this.apiSelectCondition=this.api.master["select-parameter"],this.paramSelectCondition=[{key:"parameterGroupCode",value:"ASSET_CONDITION"}],this.apiSelectBusinessPartner=this.api.master["select-business-partner"],"edit"===this.route.snapshot.params.action?(this.action="Edit",this.formGroup.get("assetName").setValue(this.inventoryService.getAsset().assetName),this.formGroup.controls.assetCondition.setValue({label:null===(d=this.inventoryService.getAsset())||void 0===d?void 0:d.assetConditionValue,value:null===(m=this.inventoryService.getAsset())||void 0===m?void 0:m.assetConditionCode}),this.formGroup.get("quantity").setValue(this.inventoryService.getAsset().quantity),this.formGroup.get("description").setValue(this.inventoryService.getAsset().description),this.formGroup.get("atOffice").setValue([{id:"atOffice",name:"At Office",selected:!this.inventoryService.getAsset().businessPartner}]),this.isAtOffice=!this.inventoryService.getAsset().businessPartner,this.isAtOffice||this.formGroup.get("businessPartner").setValue(null===(g=this.inventoryService.getAsset())||void 0===g?void 0:g.businessPartner.bpName)):this.formGroup.get("atOffice").setValue(this.dataDefault)):this.router.navigate(["/app/mgmt/inventory"])}ngOnInit(){}onReset(){this.router.navigate(["/app/mgmt/inventory"])}onCheckAtOffice(t){this.isAtOffice=!!t}onSubmit(){var t,o,a,i;let m=null;this.formGroup.get("atOffice").value||(this.formGroup.get("businessPartner").value||(null===(t=this.inventoryService.getAsset())||void 0===t?void 0:t.businessPartner))&&(m={id:this.formGroup.get("businessPartner").value.value?this.formGroup.get("businessPartner").value.value:null===(o=this.inventoryService.getAsset())||void 0===o?void 0:o.businessPartner.id,bpName:this.formGroup.get("businessPartner").value.label?this.formGroup.get("businessPartner").value.label:null===(a=this.inventoryService.getAsset())||void 0===a?void 0:a.businessPartner.bpName});const g={id:null===(i=this.inventoryService.getAsset())||void 0===i?void 0:i.id,assetName:this.formGroup.get("assetName").value,assetConditionCode:this.selectValue("assetCondition"),assetConditionValue:this.selectLabel("assetCondition"),quantity:this.formGroup.get("quantity").value,description:this.formGroup.get("description").value,businessPartner:m};super.onSubmit(g,"master","post-inventory").pipe((0,h.R)(this.destroy$)).subscribe(v=>{v.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.router.navigate(["/app/mgmt/inventory"])})}selectLabel(t){return this.formGroup.get(t).value?this.formGroup.get(t).value.label?this.formGroup.get(t).value.label:this.formGroup.get(t).value:null}selectValue(t){return this.formGroup.get(t).value&&this.formGroup.get(t).value.value?this.formGroup.get(t).value.value:null}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(u.gz),e.Y36(se))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-inventory-add-edit-page"]],features:[e.qOj],decls:11,vars:36,consts:[[3,"header","url"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"formGroup"],["formControlName","assetName",3,"name","label","required","skeleton"],["formControlName","assetCondition",3,"name","label","required","api","queryParam","searchable","skeleton"],["formControlName","quantity",3,"name","label","type","required","skeleton"],["formControlName","atOffice",3,"name","label","data","skeleton","onChecked"],["formControlName","businessPartner",3,"show","name","nolabel","required","api","skeleton"],["formControlName","description",3,"name","label","skeleton"],["pagefooter","",3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"form",3),e._UZ(4,"do-input-text",4),e._UZ(5,"do-select",5),e._UZ(6,"do-input-text",6),e.TgZ(7,"do-checkbox",7),e.NdJ("onChecked",function(i){return o.onCheckAtOffice(i)}),e.qZA(),e._UZ(8,"do-select",8),e._UZ(9,"do-textarea",9),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"do-button-submit",10),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header."+o.action+"-inventory")("url","/app/mgmt/inventory"),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","assetName")("label","Asset Name")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","assetCondition")("label","Condition")("required",!0)("api",o.apiSelectCondition)("queryParam",o.paramSelectCondition)("searchable",!1)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","quantity")("label","Quantity")("type","number")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","atOffice")("label","Location")("data",o.dataDefault)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("show",!o.isAtOffice)("name","businessPartner")("nolabel",!0)("required",!o.isAtOffice)("api",o.apiSelectBusinessPartner)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","description")("label","Description")("skeleton",o.loadingForm),e.xp6(1),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled))},directives:[y.e,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,O.r,R.l,L.j,C.r],styles:[""]}),n})(),data:{code:"#MANAGEMENT-INVENTORY-PAGE"}}]}];let Un=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(Bn)],u.Bz]}),n})();const Yn=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.j7H.forChild(),s.EoG,s.uuI,M.uX,p.K1,p._s,p.B0,p.Gp,p.DG,p.Qz,p.xj,Un],zn=[se];let Vn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...zn],imports:[[...Yn]]}),n})(),ht=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-mgmt-employee"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})(),Q=(()=>{class n{getEmployeeHeader(){return this.employeeHeader}setEmployeeHeader(t){this.employeeHeader=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),ft=(()=>{class n extends p.Ce{constructor(t,o,a){super(t,{idEmployee:[],fullname:[],occupationName:[]}),this.injector=t,this.router=o,this.employeeService=a,this.columns=[{name:"NIK",prop:"idEmployee",width:50,frozenLeft:!0,sortable:!0},{name:"Name",prop:"user.fullname",width:155,frozenLeft:!0,sortable:!0},{name:"Occupation",prop:"occupationName",width:155,frozenLeft:!0},{name:"Phone Number",prop:"phoneNumber"},{name:"Email",prop:"user.email"},{name:"Address",prop:"address"}],this.reload=!1,this.expanded=!1,this.selectionType=F.RT.single,this.apiPath=this.api.security["datatable-employee"],this.sort={asc:["user.fullname"]},this.sortsDefault=[{prop:"user.fullname",dir:"asc"}],this.filters=[{controlName:"idEmployee",type:"input"},{controlName:"fullname",type:"input"},{controlName:"occupationName",type:"input"}]}ngOnInit(){}onAdd(){this.employeeService.setEmployeeHeader(null),this.router.navigate(["/app/mgmt/employee","add"])}onViewDetail(t){this.employeeService.setEmployeeHeader(t),this.router.navigate(["/app/mgmt/employee","edit"])}onReset(){this.router.navigate(["/app/mgmt/employee"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-list-page"]],features:[e.qOj],decls:8,vars:18,consts:[[3,"header","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","formGroupFilter","filters","sort","sortsDefault","reloadFn","selectionType","delete","columns","onAdd","onEdit"],[3,"formGroup"],["formControlName","fullname",3,"name","label"],["formControlName","idEmployee",3,"name","label"],["formControlName","occupationName",3,"name","label"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"do-datatable",3),e.NdJ("onAdd",function(){return o.onAdd()})("onEdit",function(i){return o.onViewDetail(i)}),e.TgZ(4,"form",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-input-text",6),e._UZ(7,"do-input-text",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header.employee-management")("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("sort",o.sort)("sortsDefault",o.sortsDefault)("reloadFn",o.reload)("selectionType",o.selectionType)("delete",!1)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","fullname")("label","Name"),e.xp6(1),e.Q6J("name","idEmployee")("label","NIK"),e.xp6(1),e.Q6J("name","occupationName")("label","Occupation Name"))},directives:[y.e,E.I,l._Y,l.JL,l.sg,_.v,l.JJ,l.u],styles:[""]}),n})();var jn=f(3069);let gt=(()=>{class n extends p.o9{constructor(t,o,a){super(t),this.injector=t,this.service=o,this.router=a}formIsValid(){return this.service.formIsValid()}onSubmit(t){var o,a,i,d,m,g,v,Z;const T={fullname:t["personal-information"].name,username:t["personal-information"].email,email:t["personal-information"].email,idEmployee:t["personal-information"].nik,lastEducation:null===(o=t.education.educationalLevel)||void 0===o?void 0:o.value,parentId:null===(a=t["employee-status"].employeeParent)||void 0===a?void 0:a.value,roles:null,occupation:{code:null===(i=t["employee-status"].occupation)||void 0===i?void 0:i.value},contact:{phoneNumber:t["personal-information"].phoneNumber,address:t["personal-information"].address},personalInfo:{idNumber:t["personal-information"].idNumber,genderCode:t["personal-information"].gender,placeOfBirth:t["personal-information"].placeOfBirth,dateOfBirth:t["personal-information"].dateOfBirth,height:t["personal-information"].height,weight:t["personal-information"].weight,bloodType:null===(d=t["personal-information"].bloodType)||void 0===d?void 0:d.value},education:{educationalLevel:null===(m=t.education.educationalLevel)||void 0===m?void 0:m.value,schoolName:t.education.school,startYear:t.education.startYear,endYear:t.education.endYear},training:{name:t.education.trainingName,startDate:null===(g=t.education.trainingDate)||void 0===g?void 0:g.start,endDate:null===(v=t.education.trainingDate)||void 0===v?void 0:v.end}},k=[];(null===(Z=t["employee-status"])||void 0===Z?void 0:Z.role).forEach(N=>{k.push({authority:N.value})}),T.roles=k,super.onSubmit(T,"security","post-employee").pipe((0,h.R)(this.destroy$)).subscribe(N=>{N.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.router.navigate(["/app/mgmt/employee"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(p.OJ),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-add-page"]],features:[e.qOj],decls:1,vars:1,consts:[[3,"loading","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"do-wizard",0),e.NdJ("onSubmit",function(i){return o.onSubmit(i)}),e.qZA()),2&t&&e.Q6J("loading",o.disabled)},directives:[jn.H],styles:[""]}),n})();var I=f(1841),bt=f(3190),_t=f(8049),H=f(1497);const Hn=function(){return{value:5}};let Ct,vt=(()=>{class n extends p.o9{constructor(t,o,a,i,d,m){super(t,{employeeName:[],nik:[],idNumber:[],email:[],phoneNumber:[],address:[]}),this.injector=t,this.router=o,this.employeeService=a,this.httpBaseService=i,this.oauthResource=d,this.apiPath=m,this.patternEmail=c.cf.EMAIL,this.patternPhoneNumber=c.cf.PHONE_NUMBER,this.patternFullname=c.cf.FULLNAME,this.formGroup.get("email").setAsyncValidators([Xn(this.oauthResource,this.httpBaseService,this.apiPath)]),this.employeeService.getEmployeeHeader()||this.router.navigate(["/app/mgmt/employee"])}ngOnInit(){}loadDataMenu(){var t;return this.loadingForm=!0,this.exec("security","get-employee-personal-info",{employeeId:null===(t=this.employeeService.getEmployeeHeader())||void 0===t?void 0:t.id}).pipe((0,G.U)(o=>{var a,i,d;this.loadingForm=!1,Ct=o.email,this.personalInfo=null==o?void 0:o.personalInfo,this.formGroup.controls.employeeName.setValue(o.fullname),this.formGroup.controls.nik.setValue(o.idEmployee),this.formGroup.controls.idNumber.setValue(null===(a=o.personalInfo)||void 0===a?void 0:a.idNumber),this.formGroup.controls.email.setValue(o.email),this.formGroup.controls.phoneNumber.setValue(null===(i=o.contact)||void 0===i?void 0:i.phoneNumber),this.formGroup.controls.address.setValue(null===(d=o.contact)||void 0===d?void 0:d.address),this.formGroup.markAsPristine()}))}onReset(){this.router.navigate(["/app/mgmt/employee"])}onSubmit(){var t;const o={id:null===(t=this.employeeService.getEmployeeHeader())||void 0===t?void 0:t.id,idEmployee:this.formGroup.controls.nik.value,fullname:this.formGroup.controls.employeeName.value,email:this.formGroup.controls.email.value,contact:{phoneNumber:this.formGroup.controls.phoneNumber.value,address:this.formGroup.controls.address.value},personalInfo:{idNumber:this.formGroup.controls.idNumber.value}};super.onSubmit(o,"security","put-employee-personal-info").pipe((0,h.R)(this.destroy$)).subscribe(a=>{a.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.router.navigate(["/app/mgmt/employee"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(Q),e.Y36(c.WD),e.Y36(c.OM),e.Y36(c.bl))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-edit-personal-information"]],features:[e.qOj],decls:15,vars:75,consts:[[1,"row"],[1,"col-md-12","col-lg-12"],["autocomplete","on",1,"form-horizontal",3,"formGroup"],["formControlName","employeeName",3,"name","label","placeholder","pattern","required","skeleton"],["formControlName","nik",3,"name","label","placeholder","required","skeleton"],["formControlName","idNumber",3,"name","label","placeholder","required","skeleton"],["minlength","5","maxlength","50","formControlName","email",3,"name","label","placeholder","required","skeleton","pattern","paramError"],["formControlName","phoneNumber",3,"name","label","placeholder","pattern","required","skeleton"],["formControlName","address",3,"name","label","placeholder","required","skeleton"],[3,"name","label","skeleton","content","colLabel","colContent","dividerlabel"],[3,"submitTitle","resetTitle","formGroupButton","disabledButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e._UZ(3,"do-input-text",3),e._UZ(4,"do-input-text",4),e._UZ(5,"do-input-text",5),e._UZ(6,"do-input-text",6),e._UZ(7,"do-input-text",7),e._UZ(8,"do-textarea",8),e._UZ(9,"do-label-text",9),e._UZ(10,"do-label-text",9),e._UZ(11,"do-label-text",9),e._UZ(12,"do-label-text",9),e._UZ(13,"do-label-text",9),e.TgZ(14,"do-button-submit",10),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","name")("label","Employee Name")("placeholder","Employee Name")("pattern",o.patternFullname)("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","nik")("label","Employee Identification Number")("placeholder","Employee Identification Number")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","idNumber")("label","ID Card Number")("placeholder","ID Card Number")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","email")("label","Email")("placeholder","Email")("required",!0)("skeleton",o.loadingForm)("pattern",o.patternEmail)("paramError",e.DdM(74,Hn)),e.xp6(1),e.Q6J("name","phoneNumber")("label","Phone Number")("placeholder","Phone Number")("pattern",o.patternPhoneNumber)("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","address")("label","Address")("placeholder","Address")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","pobdob")("label","label.pobdob")("skeleton",o.loadingForm)("content",(null==o.personalInfo?null:o.personalInfo.placeOfBirth)+", "+(null==o.personalInfo?null:o.personalInfo.dateOfBirth))("colLabel",3)("colContent",9)("dividerlabel",!1),e.xp6(1),e.Q6J("name","gender")("label","Gender")("skeleton",o.loadingForm)("content",null==o.personalInfo?null:o.personalInfo.genderValue)("colLabel",3)("colContent",9)("dividerlabel",!1),e.xp6(1),e.Q6J("name","height")("label","Height")("skeleton",o.loadingForm)("content",null==o.personalInfo?null:o.personalInfo.height)("colLabel",3)("colContent",9)("dividerlabel",!1),e.xp6(1),e.Q6J("name","weight")("label","Weight")("skeleton",o.loadingForm)("content",null==o.personalInfo?null:o.personalInfo.weight)("colLabel",3)("colContent",9)("dividerlabel",!1),e.xp6(1),e.Q6J("name","bloodType")("label","Blood Type")("skeleton",o.loadingForm)("content",null==o.personalInfo?null:o.personalInfo.bloodType)("colLabel",3)("colContent",9)("dividerlabel",!1),e.xp6(1),e.Q6J("submitTitle","Edit")("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled))},directives:[l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.c5,l.Q7,l.wO,l.nD,L.j,H.i,C.r],styles:[""]}),n})();function Xn(n,r,t){return o=>o.valueChanges?o.valueChanges.pipe((0,ee.b)(500),(0,te.x)(),(0,bt.w)(()=>{const a=new q.xQ,i=new I.WM({Authorization:"Basic "+btoa(n.client_id+":"+n.client_secret),"Content-Type":"application/json"});let m;return o.value&&r.HTTP_BASE(t.auth["check-user"],{user:o.value,exist:Ct},i).subscribe(g=>{g.respStatusCode===c.Q4.OK_SCR012.toString()?a.next(null):(m={error:!0},a.next(m))},g=>{m=g instanceof I.UA?302===g.status?{"not-available":!0}:{timeout:!0}:{error:!0},a.next(m)}),a.asObservable()})).pipe((0,_t.P)()):(0,J.of)(null)}let de=(()=>{class n{constructor(t,o,a){this.ref=a,this.action="Add",this.formGroup=o.group({educationalLevel:[],school:[],startYear:[],endYear:[]}),this.apiSelectEducationalLevel=t.master["select-parameter"],this.paramSelectEducationalLevel=[{key:"parameterGroupCode",value:"EDUCATIONAL_LEVEL"},{key:"parameterCodeNotIn",value:"EDUCATIONAL_LEVEL.NO_EDUCATION"}]}ngOnInit(){this.education?(this.action="Edit",this.formGroup.get("educationalLevel").setValue({label:this.education.educationalLevel,value:this.education.educationalLevelCode}),this.formGroup.get("educationalLevel").disable({onlySelf:!0}),this.formGroup.get("school").setValue(this.education.schoolName),this.formGroup.get("startYear").setValue(this.education.startYear),this.formGroup.get("endYear").setValue(this.education.endYear)):this.action="Add"}onSubmit(){var t,o;const a={education:{id:null===(t=this.education)||void 0===t?void 0:t.id,educationalLevel:null===(o=this.formGroup.get("educationalLevel").value)||void 0===o?void 0:o.value,schoolName:this.formGroup.get("school").value,startYear:this.formGroup.get("startYear").value,endYear:this.formGroup.get("endYear").value}};this.ref.close(a)}onReset(){this.ref.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.bl),e.Y36(l.qu),e.Y36(s.X4l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-education-formal-prompt"]],inputs:{education:"education"},decls:14,vars:25,consts:[[1,"modal-form"],[1,"row"],[1,"col-md-12","col-lg-12"],["autocomplete","on",1,"form-horizontal",3,"formGroup"],["formControlName","educationalLevel",3,"name","label","placeholder","required","api","queryParam","searchable"],["formControlName","school",3,"name","label","placeholder"],["formControlName","startYear",3,"name","label","placeholder","type"],["formControlName","endYear",3,"name","label","placeholder","type"],[3,"submitTitle","resetTitle","formGroupButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"nb-card",0),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e.TgZ(5,"div",1),e.TgZ(6,"div",2),e.TgZ(7,"form",3),e._UZ(8,"do-select",4),e._UZ(9,"do-input-text",5),e._UZ(10,"do-input-text",6),e._UZ(11,"do-input-text",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"nb-card-footer"),e.TgZ(13,"do-button-submit",8),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,23,"header."+o.action+"-education-formal")," "),e.xp6(5),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","educationalLevel")("label","Educational Level")("placeholder","Educational Level")("required",!0)("api",o.apiSelectEducationalLevel)("queryParam",o.paramSelectEducationalLevel)("searchable",!1),e.xp6(1),e.Q6J("name","school")("label","School")("placeholder","School"),e.xp6(1),e.Q6J("name","startYear")("label","Start Year")("placeholder","Start Year")("type","number"),e.xp6(1),e.Q6J("name","endYear")("label","End Year")("placeholder","End Year")("type","number"),e.xp6(2),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup))},directives:[s.Asz,s.ndF,s.yKW,l._Y,l.JL,l.sg,O.r,l.JJ,l.u,l.Q7,_.v,s.XWE,C.r],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-default   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-dark   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-dark   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-cosmic   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-corporate   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-corporate   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}"]}),n})();var pe=f(128);let me=(()=>{class n{constructor(t,o,a){this.ref=a,this.action="Add",this.formGroup=o.group({trainingName:[],trainingDate:[]})}ngOnInit(){this.training?(this.action="Edit",this.formGroup.get("trainingName").setValue(this.training.name),this.formGroup.get("trainingDate").setValue({start:this.training.startDate,end:this.training.endDate})):this.action="Add"}onSubmit(){var t,o,a;const i={training:{id:null===(t=this.training)||void 0===t?void 0:t.id,name:this.formGroup.get("trainingName").value,startDate:null===(o=this.formGroup.get("trainingDate").value)||void 0===o?void 0:o.start,endDate:null===(a=this.formGroup.get("trainingDate").value)||void 0===a?void 0:a.end}};this.ref.close(i)}onReset(){this.ref.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.bl),e.Y36(l.qu),e.Y36(s.X4l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-education-nonformal-prompt"]],inputs:{training:"training"},decls:12,vars:14,consts:[[1,"modal-form"],[1,"row"],[1,"col-md-12","col-lg-12"],["autocomplete","on",1,"form-horizontal",3,"formGroup"],["formControlName","trainingName",3,"name","label","required","placeholder"],["formControlName","trainingDate",3,"name","label","placeholder"],[3,"submitTitle","resetTitle","formGroupButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"nb-card",0),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e.TgZ(5,"div",1),e.TgZ(6,"div",2),e.TgZ(7,"form",3),e._UZ(8,"do-input-text",4),e._UZ(9,"do-datepicker-range",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"nb-card-footer"),e.TgZ(11,"do-button-submit",6),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,12,"header."+o.action+"-education-nonformal")," "),e.xp6(5),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","trainingName")("label","Training Name")("required",!0)("placeholder","Training Name"),e.xp6(1),e.Q6J("name","trainingDate")("label","Training Date")("placeholder","Training Date"),e.xp6(2),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup))},directives:[s.Asz,s.ndF,s.yKW,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,pe.a,s.XWE,C.r],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-default   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-dark   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-dark   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-cosmic   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-corporate   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-corporate   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}"]}),n})();function $n(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",8),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",9),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onDeleteEducation(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,9,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle","Delete")("resetTitle","Cancel")("disabledButton",o.disabled)}}function Wn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",8),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",9),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onDeleteTraining(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,9,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle","Delete")("resetTitle","Cancel")("disabledButton",o.disabled)}}let yt=(()=>{class n extends p.o9{constructor(t,o,a,i){super(t),this.router=o,this.employeeService=a,this.dialogService=i,this.reloadEducation=!1,this.reloadTraining=!1,this.columnsEducation=[{name:"Level",prop:"educationalLevel",frozenLeft:!0},{name:"School",prop:"schoolName",frozenLeft:!0},{name:"Year",prop:"startYear",frozenLeft:!0}],this.columnsTraining=[{name:"Training Name",prop:"name",frozenLeft:!0},{name:"Start Date",prop:"startDate",frozenLeft:!0},{name:"End Date",prop:"endDate",frozenLeft:!0}],this.educationIds=[],this.trainingIds=[],this.loadingSubject$=new q.xQ,this.employeeService.getEmployeeHeader()||this.router.navigate(["/app/mgmt/employee"]),this.apiPathEducation=this.api.security["datatable-education-employee"],this.apiPathTraining=this.api.security["datatable-training-employee"],this.apiPathDeleteEducation=this.api.security["delete-employee-education"],this.apiPathDeleteTraining=this.api.security["delete-employee-training"],this.sortEducation={desc:["startYear"]},this.sortTraining={desc:["startDate"]}}ngOnInit(){var t;this.keyword={employeeId:null===(t=this.employeeService.getEmployeeHeader())||void 0===t?void 0:t.id}}loadDataMenu(){return this.reloadEducation=!0,this.reloadTraining=!0,this.loadingSubject$.asObservable()}ngOnDestroy(){}onAddEducation(){this.reloadEducation=!1,this.dialogService.open(de).onClose.subscribe(t=>{t&&(t.id=this.employeeService.getEmployeeHeader().id,super.onSubmit(t,"security","post-employee-education").pipe((0,h.R)(this.destroy$)).subscribe(o=>{o.respStatusCode===c.Q4.OK_DEFAULT.toString()&&(this.reloadEducation=!0)}))})}onAddTraining(){this.reloadTraining=!1,this.dialogService.open(me).onClose.subscribe(t=>{t&&(t.id=this.employeeService.getEmployeeHeader().id,super.onSubmit(t,"security","post-employee-training").pipe((0,h.R)(this.destroy$)).subscribe(o=>{o.respStatusCode===c.Q4.OK_DEFAULT.toString()&&(this.reloadTraining=!0)}))})}onEditEducation(t){this.reloadEducation=!1,this.dialogService.open(de,{context:{education:t}}).onClose.subscribe(o=>{o&&(o.id=this.employeeService.getEmployeeHeader().id,super.onSubmit(o,"security","post-employee-education").pipe((0,h.R)(this.destroy$)).subscribe(a=>{a.respStatusCode===c.Q4.OK_DEFAULT.toString()&&(this.reloadEducation=!0)}))})}onEditTraining(t){this.reloadTraining=!1,this.dialogService.open(me,{context:{training:t}}).onClose.subscribe(o=>{o&&(o.id=this.employeeService.getEmployeeHeader().id,super.onSubmit(o,"security","post-employee-training").pipe((0,h.R)(this.destroy$)).subscribe(a=>{a.respStatusCode===c.Q4.OK_DEFAULT.toString()&&(this.reloadTraining=!0)}))})}onDeleteEducationDialog(t,o){this.reloadEducation=!1,this.educationIds=[],t.forEach(a=>{this.educationIds.push(a.id)}),this.dialogService.open(o,{context:"alert.delete"})}onDeleteTrainingDialog(t,o){this.reloadTraining=!1,this.trainingIds=[],t.forEach(a=>{this.trainingIds.push(a.id)}),this.dialogService.open(o,{context:"alert.delete"})}onDeleteEducation(t){this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDeleteEducation,this.educationIds).pipe((0,h.R)(this.destroy$)).subscribe(o=>{this.disabled=!1,t.close(),this.reloadEducation=!0,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0)},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}onDeleteTraining(t){this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDeleteTraining,this.trainingIds).pipe((0,h.R)(this.destroy$)).subscribe(o=>{t.close(),this.reloadTraining=!0,this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0)},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}onLoadEducation(){this.loadingSubject$.next(!0)}onLoadTraining(){this.loadingSubject$.next(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(Q),e.Y36(s.Gln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-edit-education"]],features:[e.qOj],decls:20,vars:20,consts:[[1,"row"],[1,"col-md-12","col-lg-12"],[1,"accordion-container"],["multi",""],[3,"expanded"],[3,"api","columns","filterFn","sort","startWithOpenData","reloadFn","onLoading","onEdit","onAdd","onDelete"],["dialogdeleteeducation",""],["dialogdeletetraining",""],["accent","danger"],[3,"colLabel","colButton","submitTitle","resetTitle","disabledButton","onReset","onSubmit"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"nb-accordion",3),e.TgZ(4,"nb-accordion-item",4),e.TgZ(5,"nb-accordion-item-header"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"nb-accordion-item-body"),e.TgZ(9,"do-datatable",5),e.NdJ("onLoading",function(){return o.onLoadEducation()})("onEdit",function(d){return o.onEditEducation(d)})("onAdd",function(){return o.onAddEducation()})("onDelete",function(d){e.CHM(a);const m=e.MAs(17);return o.onDeleteEducationDialog(d,m)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"nb-accordion-item",4),e.TgZ(11,"nb-accordion-item-header"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"nb-accordion-item-body"),e.TgZ(15,"do-datatable",5),e.NdJ("onLoading",function(){return o.onLoadTraining()})("onEdit",function(d){return o.onEditTraining(d)})("onAdd",function(){return o.onAddTraining()})("onDelete",function(d){e.CHM(a);const m=e.MAs(19);return o.onDeleteTrainingDialog(d,m)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(16,$n,9,11,"ng-template",null,6,e.W1O),e.YNc(18,Wn,9,11,"ng-template",null,7,e.W1O)}2&t&&(e.xp6(4),e.Q6J("expanded",!0),e.xp6(2),e.hij(" ",e.lcZ(7,16,"Formal Education")," "),e.xp6(3),e.Q6J("api",o.apiPathEducation)("columns",o.columnsEducation)("filterFn",o.keyword)("sort",o.sortEducation)("startWithOpenData",!1)("reloadFn",o.reloadEducation),e.xp6(1),e.Q6J("expanded",!0),e.xp6(2),e.hij(" ",e.lcZ(13,18,"Non Formal Education")," "),e.xp6(3),e.Q6J("api",o.apiPathTraining)("columns",o.columnsTraining)("filterFn",o.keyword)("sort",o.sortTraining)("startWithOpenData",!1)("reloadFn",o.reloadTraining))},directives:[s.qCO,s.SaG,s.YZd,s.AvE,E.I,s.Asz,s.ndF,s.yKW,s.XWE,C.r],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-dark   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-cosmic   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-corporate   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}"]}),n})();var Tt=f(5304);let Pt=(()=>{class n extends p.o9{constructor(t,o,a){super(t,{occupation:[],role:[],employeeParent:[],permissions:[]}),this.injector=t,this.router=o,this.employeeService=a,this.permissionsData=[],this.apiSelectOccupation=this.api.security["select-occupation"],this.apiSelectRole=this.api.security["select-role"],this.apiSelectEmployeeParent=this.api.security["select-employee"]}ngOnInit(){this.employeeService.getEmployeeHeader()?this.http.HTTP_AUTH(this.api.master["checkbox-parameter"],{keyword:{parameterGroupCode:"PERMISSION"}}).pipe((0,h.R)(this.destroy$),(0,G.U)(t=>{this.permissionsData=t}),(0,Tt.K)(()=>(0,J.of)([]))).subscribe(()=>{}):this.router.navigate(["/app/mgmt/employee"])}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.destroy$.unsubscribe()}loadDataMenu(){var t;return this.loadingForm=!0,this.exec("security","get-employee-status",{employeeId:null===(t=this.employeeService.getEmployeeHeader())||void 0===t?void 0:t.id}).pipe((0,G.U)(o=>{var a,i;this.loadingForm=!1,this.username=o.username;const m=[];o.roles.forEach(v=>{m.push({label:v.description,value:v.authority,disabled:!1})}),this.formGroup.controls.role.setValue(m),this.formGroup.controls.occupation.setValue({label:null===(a=o.occupation)||void 0===a?void 0:a.name,value:null===(i=o.occupation)||void 0===i?void 0:i.code}),this.formGroup.controls.employeeParent.setValue({label:o.parentLabel,value:o.parentValue});const g=this.permissionsData;g.forEach(v=>{"PERMISSION.DISABLED"===v.id&&(v.selected=o.disabled),"PERMISSION.LOCKED"===v.id&&(v.selected=o.locked),"PERMISSION.ACCOUNT_EXPIRED"===v.id&&(v.selected=o.accountExpired)}),this.formGroup.controls.permissions.setValue(g),this.formGroup.markAsPristine()}))}onReset(){this.router.navigate(["/app/mgmt/employee"])}onSubmit(){var t,o;const a=[];this.formGroup.get("role").value.forEach(T=>{a.push({authority:T.value})});let d=!1,m=!1,g=!1;(this.formGroup.get("permissions").value?this.formGroup.get("permissions").value:this.permissionsData).forEach(T=>{"PERMISSION.DISABLED"===T.id&&(d=T.selected),"PERMISSION.LOCKED"===T.id&&(m=T.selected),"PERMISSION.ACCOUNT_EXPIRED"===T.id&&(g=T.selected)});const Z={id:this.employeeService.getEmployeeHeader().id,disabled:d,locked:m,accountExpired:g,parentId:null===(t=this.formGroup.get("employeeParent").value)||void 0===t?void 0:t.value,roles:a,occupation:{code:null===(o=this.formGroup.get("occupation").value)||void 0===o?void 0:o.value}};super.onSubmit(Z,"security","put-employee-status").pipe((0,h.R)(this.destroy$)).subscribe(T=>{T.respStatusCode===c.Q4.OK_DEFAULT.toString()&&this.router.navigate(["/app/mgmt/employee"])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-edit-employee-status"]],features:[e.qOj],decls:9,vars:36,consts:[[1,"row"],[1,"col-md-12","col-lg-12"],["autocomplete","on",1,"form-horizontal",3,"formGroup"],[3,"label","colLabel","colContent","dividerlabel","skeleton","content"],["formControlName","occupation",3,"name","label","placeholder","required","api","searchable","skeleton"],["formControlName","role",3,"name","label","placeholder","required","api","searchable","multiple","skeleton"],["formControlName","employeeParent",3,"name","label","placeholder","api","skeleton"],["formControlName","permissions",3,"name","label","data","skeleton"],[3,"submitTitle","resetTitle","formGroupButton","disabledButton","skeleton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e._UZ(3,"do-label-text",3),e._UZ(4,"do-select",4),e._UZ(5,"do-select",5),e._UZ(6,"do-select",6),e._UZ(7,"do-checkbox",7),e.TgZ(8,"do-button-submit",8),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("label","Username")("colLabel",3)("colContent",9)("dividerlabel",!1)("skeleton",o.loadingForm)("content",o.username),e.xp6(1),e.Q6J("name","occupation")("label","Occupation")("placeholder","Occupation")("required",!0)("api",o.apiSelectOccupation)("searchable",!1)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","role")("label","Role")("placeholder","Role")("required",!0)("api",o.apiSelectRole)("searchable",!1)("multiple",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","employeeParent")("label","Supervisor")("placeholder","Supervisor")("api",o.apiSelectEmployeeParent)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","permissions")("label","Permissions")("data",o.permissionsData)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("submitTitle","Edit")("resetTitle","Cancel")("formGroupButton",o.formGroup)("disabledButton",o.disabled)("skeleton",o.loadingForm))},directives:[l._Y,l.JL,l.sg,H.i,O.r,l.JJ,l.u,l.Q7,R.l,C.r],styles:[""]}),n})();const Kn=["personalInfo"],ea=["education"],ta=["employeeStatus"];let St=(()=>{class n extends p.H6{constructor(t,o,a,i){super(t),this.injector=t,this.router=o,this.employeeService=a,this.toastr=i,this.loading=!1,this.tab="personalInfo",this.destroy$=new q.xQ,this.employeeService.getEmployeeHeader()||this.router.navigate(["/app/mgmt/employee"])}ngOnInit(){}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.next(),this.destroy$.complete()}toggleLoadingAnimation(t){this.tab=t.tabId,this.loading=!0,"personalInfo"===this.tab?this.personalInfo.loadDataMenu().pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1},o=>{o instanceof I.UA&&(o=o.error),this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")}):"education"===this.tab?this.education.loadDataMenu().pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1},o=>{o instanceof I.UA&&(o=o.error),this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")}):this.employeeStatus.loadDataMenu().pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1},o=>{o instanceof I.UA&&(o=o.error),this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(Q),e.Y36(p.GL))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-edit-page"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Kn,7),e.Gf(ea,7),e.Gf(ta,7)),2&t){let a;e.iGM(a=e.CRH())&&(o.personalInfo=a.first),e.iGM(a=e.CRH())&&(o.education=a.first),e.iGM(a=e.CRH())&&(o.employeeStatus=a.first)}},features:[e.qOj],decls:14,vars:13,consts:[[3,"header","url","hidefooter"],["fullWidth","","pagecontent","",3,"changeTab"],["tabId","personalInfo",3,"tabTitle","lazyLoad"],["personalInfo",""],["tabId","education",3,"tabTitle"],["education",""],["tabId","employeeStatus",3,"tabTitle"],["employeeStatus",""]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"nb-tabset",1),e.NdJ("changeTab",function(i){return o.toggleLoadingAnimation(i)}),e.TgZ(2,"nb-tab",2),e.ALo(3,"translate"),e._UZ(4,"do-employee-edit-personal-information",null,3),e.qZA(),e.TgZ(6,"nb-tab",4),e.ALo(7,"translate"),e._UZ(8,"do-employee-edit-education",null,5),e.qZA(),e.TgZ(10,"nb-tab",6),e.ALo(11,"translate"),e._UZ(12,"do-employee-edit-employee-status",null,7),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header.employee-management")("url","/app/mgmt/employee")("hidefooter",!0),e.xp6(2),e.s9C("tabTitle",e.lcZ(3,7,"tab.personal-info")),e.Q6J("lazyLoad",!0),e.xp6(4),e.s9C("tabTitle",e.lcZ(7,9,"tab.education")),e.xp6(4),e.s9C("tabTitle",e.lcZ(11,11,"tab.employee-status")))},directives:[y.e,s.kyn,s.TR4,vt,yt,Pt],pipes:[b.X$],styles:[""]}),n})();var ue=f(5544),oa=f(8857);const na=function(){return{value:5}};function aa(n,r,t){return o=>o.valueChanges?o.valueChanges.pipe((0,ee.b)(500),(0,te.x)(),(0,bt.w)(()=>{const a=new q.xQ,i=new I.WM({Authorization:"Basic "+btoa(n.client_id+":"+n.client_secret),"Content-Type":"application/json"});let m;return o.value&&r.HTTP_BASE(t.auth["check-user"],{user:o.value},i).subscribe(g=>{g.respStatusCode===c.Q4.OK_SCR012.toString()?a.next(null):(m={error:!0},a.next(m))},g=>{m=g instanceof I.UA?302===g.status?{"not-available":!0}:{timeout:!0}:{error:!0},a.next(m)}),a.asObservable()})).pipe((0,_t.P)()):(0,J.of)(null)}const ra=[{path:"",component:ht,canActivateChild:[x.Cy],children:[{path:"",component:ft,data:{code:"#MANAGEMENT-EMPLOYEE-PAGE"}},{path:"add",component:gt,data:{name:"Manage Employee",code:"#MANAGEMENT-EMPLOYEE-PAGE",baseUrl:"/app/mgmt/employee"},children:[{path:"personal-information",component:(()=>{class n extends p.B4{constructor(t,o,a,i){super(t,"personal-information",{name:[{value:null,disabled:!1},l.kI.required],nik:[{value:null,disabled:!1},l.kI.required],idNumber:[{value:null,disabled:!1},l.kI.required],email:[{value:null,disabled:!1},l.kI.required],phoneNumber:[{value:null,disabled:!1},l.kI.required],address:[{value:null,disabled:!1},l.kI.required],placeOfBirth:[{value:null,disabled:!1},l.kI.required],dateOfBirth:[{value:null,disabled:!1},l.kI.required],gender:[{value:null,disabled:!1}],height:[{value:null,disabled:!1}],weight:[{value:null,disabled:!1}],bloodType:[{value:null,disabled:!1}]}),this.injector=t,this.httpBaseService=o,this.oauthResource=a,this.apiPath=i,this.formGroupName="personal-information",this.patternEmail=c.cf.EMAIL,this.patternPhoneNumber=c.cf.PHONE_NUMBER,this.patternFullname=c.cf.FULLNAME,this.genderData=[],this.bloodTypeData=[{label:"A",value:"A",disabled:!1},{label:"B",value:"B",disabled:!1},{label:"AB",value:"AB",disabled:!1},{label:"O",value:"O",disabled:!1}],this.isCheckEmail=!0,this.formGroup.get("personal-information").get("email").setAsyncValidators([aa(this.oauthResource,this.httpBaseService,this.apiPath)])}ngOnInit(){this.formGroup.get("personal-information").get("gender").setValue("GENDER.MALE"),this.loadingForm=!0,this.http.HTTP_AUTH(this.api.master["radio-parameter"],{keyword:{parameterGroupCode:"GENDER"}}).pipe((0,h.R)(this.destroy$),(0,G.U)(t=>{this.genderData=t}),(0,Tt.K)(()=>(0,J.of)([]))).subscribe(()=>{this.loadingForm=!1})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.destroy$.unsubscribe()}onKeyDownEmail(t){t.key&&(t.key.match(/[!#$%^&*()?":{}|<>\[\];\\=~`]/g)||-1===["TAB","ESCAPE","ENTER","HOME","END","ARROWLEFT","ARROWRIGHT","ARROWUP","ARROWDOWN","PAGEUP","PAGEDOWN"].indexOf(t.key.toUpperCase())&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&(this.isCheckEmail=!0))}validateRoute(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(c.WD),e.Y36(c.OM),e.Y36(c.bl))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-add-personal-information"]],features:[e.qOj],decls:15,vars:70,consts:[["autocomplete","on","wizardcontent","",1,"form-horizontal",3,"formGroup"],[3,"formGroupName"],["formControlName","name",3,"name","label","placeholder","pattern","required","skeleton"],["formControlName","nik",3,"name","label","placeholder","required","skeleton"],["formControlName","idNumber",3,"name","label","placeholder","required","skeleton"],["formControlName","gender",3,"name","label","placeholder","data","skeleton"],["formControlName","placeOfBirth",3,"name","label","placeholder","required","skeleton"],["formControlName","dateOfBirth",3,"name","label","placeholder","required","skeleton"],["minlength","5","maxlength","50","formControlName","email",3,"name","label","placeholder","required","skeleton","pattern","paramError"],["formControlName","phoneNumber",3,"name","label","placeholder","pattern","required","skeleton"],["formControlName","address",3,"name","label","placeholder","required","skeleton"],["formControlName","height",3,"name","label","placeholder","type","step","skeleton"],["formControlName","weight",3,"name","label","placeholder","type","step","skeleton"],["formControlName","bloodType",3,"name","label","placeholder","items","searchable","skeleton"]],template:function(t,o){1&t&&(e.TgZ(0,"do-wizard-page-outlet"),e.TgZ(1,"form",0),e.TgZ(2,"div",1),e._UZ(3,"do-input-text",2),e._UZ(4,"do-input-text",3),e._UZ(5,"do-input-text",4),e._UZ(6,"do-radio",5),e._UZ(7,"do-input-text",6),e._UZ(8,"do-datepicker",7),e._UZ(9,"do-input-text",8),e._UZ(10,"do-input-text",9),e._UZ(11,"do-textarea",10),e._UZ(12,"do-input-text",11),e._UZ(13,"do-input-text",12),e._UZ(14,"do-select",13),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("formGroupName",o.formGroupName),e.xp6(1),e.Q6J("name","name")("label","Name")("placeholder","Name")("pattern",o.patternFullname)("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","nik")("label","Employee Identification Number")("placeholder","Employee Identification Number")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","idNumber")("label","ID Card Number")("placeholder","ID Card Number")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","gender")("label","Gender")("placeholder","Gender")("data",o.genderData)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","placeOfBirth")("label","Place of Birth")("placeholder","Place of Birth")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","dateOfBirth")("label","Date of Birth")("placeholder","Date of Birth")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","email")("label","Email")("placeholder","Email")("required",!0)("skeleton",o.loadingForm)("pattern",o.patternEmail)("paramError",e.DdM(69,na)),e.xp6(1),e.Q6J("name","phoneNumber")("label","Phone Number")("placeholder","Phone Number")("pattern",o.patternPhoneNumber)("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","address")("label","Address")("placeholder","Address")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","height")("label","height.body")("placeholder","Centimeter")("type","number")("step","any")("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","weight")("label","weight.body")("placeholder","Kilogram")("type","number")("step","any")("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","bloodType")("label","Blood Type")("placeholder","Blood Type")("items",o.bloodTypeData)("searchable",!1)("skeleton",o.loadingForm))},directives:[ue.U,l._Y,l.JL,l.sg,l.x0,_.v,l.JJ,l.u,l.c5,l.Q7,oa.X,le.T,l.wO,l.nD,L.j,O.r],styles:[""]}),n})(),data:{title:"Personal Information",code:"#MANAGEMENT-EMPLOYEE-PAGE"}},{path:"education",component:(()=>{class n extends p.B4{constructor(t){super(t,"education",{educationalLevel:[{value:null,disabled:!1},l.kI.required],school:[{value:null,disabled:!1}],startYear:[{value:null,disabled:!1}],endYear:[{value:null,disabled:!1}],trainingName:[{value:null,disabled:!1}],trainingDate:[{value:null,disabled:!1}]}),this.injector=t,this.noSchool=!1,this.apiSelectEducationalLevel=this.api.master["select-parameter"],this.paramSelectEducationalLevel=[{key:"parameterGroupCode",value:"EDUCATIONAL_LEVEL"}]}ngOnInit(){const t=this.formGroup.get("education").get("educationalLevel").value;this.noSchool="EDUCATIONAL_LEVEL.NO_EDUCATION"===(null==t?void 0:t.value)}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.destroy$.unsubscribe()}onSelectEducationalLevel(t){this.noSchool="EDUCATIONAL_LEVEL.NO_EDUCATION"===(null==t?void 0:t.value)}validateRoute(){var t;(!this.formGroup.get("personal-information")||(null===(t=this.formGroup.get("personal-information"))||void 0===t?void 0:t.invalid))&&this.router.navigate(["/app/mgmt/employee/add/personal-information"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-add-education"]],features:[e.qOj],decls:20,vars:39,consts:[["autocomplete","on","wizardcontent","",1,"form-horizontal",3,"formGroup"],[1,"accordion-container",3,"formGroupName"],["multi",""],[3,"expanded"],["formControlName","educationalLevel",3,"name","label","placeholder","required","api","queryParam","searchable","skeleton","onSelect"],["formControlName","school",3,"name","label","placeholder","show"],["formControlName","startYear",3,"name","label","placeholder","type","show"],["formControlName","endYear",3,"name","label","placeholder","type","show"],["formControlName","trainingName",3,"name","label","placeholder"],["formControlName","trainingDate",3,"name","label","placeholder","skeleton"]],template:function(t,o){1&t&&(e.TgZ(0,"do-wizard-page-outlet"),e.TgZ(1,"form",0),e.TgZ(2,"div",1),e.TgZ(3,"nb-accordion",2),e.TgZ(4,"nb-accordion-item",3),e.TgZ(5,"nb-accordion-item-header"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"nb-accordion-item-body"),e.TgZ(9,"do-select",4),e.NdJ("onSelect",function(i){return o.onSelectEducationalLevel(i)}),e.qZA(),e._UZ(10,"do-input-text",5),e._UZ(11,"do-input-text",6),e._UZ(12,"do-input-text",7),e.qZA(),e.qZA(),e.TgZ(13,"nb-accordion-item",3),e.TgZ(14,"nb-accordion-item-header"),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"nb-accordion-item-body"),e._UZ(18,"do-input-text",8),e._UZ(19,"do-datepicker-range",9),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("formGroupName",o.formGroupName),e.xp6(2),e.Q6J("expanded",!0),e.xp6(2),e.hij(" ",e.lcZ(7,35,"Formal Education")," "),e.xp6(3),e.Q6J("name","educationalLevel")("label","Educational Level")("placeholder","Educational Level")("required",!0)("api",o.apiSelectEducationalLevel)("queryParam",o.paramSelectEducationalLevel)("searchable",!1)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","school")("label","School")("placeholder","School")("show",!o.noSchool),e.xp6(1),e.Q6J("name","startYear")("label","Start Year")("placeholder","Start Year")("type","number")("show",!o.noSchool),e.xp6(1),e.Q6J("name","endYear")("label","End Year")("placeholder","End Year")("type","number")("show",!o.noSchool),e.xp6(1),e.Q6J("expanded",!0),e.xp6(2),e.hij(" ",e.lcZ(16,37,"Non Formal Education")," "),e.xp6(3),e.Q6J("name","trainingName")("label","Training Name")("placeholder","Training Name"),e.xp6(1),e.Q6J("name","trainingDate")("label","Training Date")("placeholder","Training Date")("skeleton",o.loadingForm))},directives:[ue.U,l._Y,l.JL,l.sg,l.x0,s.qCO,s.SaG,s.YZd,s.AvE,O.r,l.JJ,l.u,l.Q7,_.v,pe.a],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-dark   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-cosmic   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-corporate   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}"]}),n})(),data:{title:"Last Education",code:"#MANAGEMENT-EMPLOYEE-PAGE"}},{path:"employee-status",component:(()=>{class n extends p.B4{constructor(t){super(t,"employee-status",{occupation:[{value:null,disabled:!1},l.kI.required],role:[{value:null,disabled:!1},l.kI.required],employeeParent:[{value:null,disabled:!1}]}),this.injector=t,this.apiSelectOccupation=this.api.security["select-occupation"],this.apiSelectRole=this.api.security["select-role"],this.apiSelectEmployeeParent=this.api.security["select-employee"]}ngOnInit(){}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.destroy$.unsubscribe()}validateRoute(){var t;(null===(t=this.formGroup.controls.education)||void 0===t?void 0:t.valid)||this.router.navigate(["/app/mgmt/employee/add/education"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-add-employee-status"]],features:[e.qOj],decls:6,vars:22,consts:[["autocomplete","on","wizardcontent","",1,"form-horizontal",3,"formGroup"],[3,"formGroupName"],["formControlName","occupation",3,"name","label","placeholder","required","api","searchable","skeleton"],["formControlName","role",3,"name","label","placeholder","required","api","searchable","multiple","skeleton"],["formControlName","employeeParent",3,"name","label","placeholder","api","skeleton"]],template:function(t,o){1&t&&(e.TgZ(0,"do-wizard-page-outlet"),e.TgZ(1,"form",0),e.TgZ(2,"div",1),e._UZ(3,"do-select",2),e._UZ(4,"do-select",3),e._UZ(5,"do-select",4),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("formGroupName",o.formGroupName),e.xp6(1),e.Q6J("name","occupation")("label","Occupation")("placeholder","Occupation")("required",!0)("api",o.apiSelectOccupation)("searchable",!1)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","role")("label","Role")("placeholder","Role")("required",!0)("api",o.apiSelectRole)("searchable",!1)("multiple",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","employeeParent")("label","Supervisor")("placeholder","Supervisor")("api",o.apiSelectEmployeeParent)("skeleton",o.loadingForm))},directives:[ue.U,l._Y,l.JL,l.sg,l.x0,O.r,l.JJ,l.u,l.Q7],styles:[""]}),n})(),data:{title:"Employee Status",code:"#MANAGEMENT-EMPLOYEE-PAGE"}},{path:"**",redirectTo:"personal-information"}]},{path:"edit",component:St,data:{code:"#MANAGEMENT-EMPLOYEE-PAGE"}},{path:"",redirectTo:"",pathMatch:"full"}]}];let ia=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(ra)],u.Bz]}),n})();f(8415);const la=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.oGl,s.j7H.forChild(),s.EoG,s.uuI,M.uX,p.Gp,p.K1,p._s,p.B0,p.DG,p.Qz,p.xj,p.Mu,p.Pq,p.US,p.EO.forRoot(),ia],sa=[Q];let da=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...sa],imports:[[...la]]}),n})(),xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-mgmt-job-placement"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})(),ce=(()=>{class n{getAssignmentGroup(){return this.assignmentGroup}setAssignmentGroup(t){this.assignmentGroup=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Nt=(()=>{class n extends p.Ce{constructor(t,o,a){super(t,{bpName:[]}),this.injector=t,this.router=o,this.jobPlacementService=a,this.columns=[{name:"Business Partner",prop:"bpName",frozenLeft:!0,sortable:!0},{name:"Total Assignment",prop:"totalAssignment",width:55,frozenLeft:!0}],this.selectionType=F.RT.single,this.sort={asc:["bpName"]},this.sortsDefault=[{prop:"bpName",dir:"asc"}],this.filters=[{controlName:"bpName",type:"input"}],this.apiPath=this.api.activity["datatable-assignment-group"]}ngOnInit(){}onViewDetail(t){this.jobPlacementService.setAssignmentGroup(t),this.router.navigate(["/app/mgmt/job-placement","edit"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(ce))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-job-placement-list-page"]],features:[e.qOj],decls:6,vars:14,consts:[[3,"header","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","formGroupFilter","filters","sort","sortsDefault","selectionType","delete","add","columns","onEdit"],[3,"formGroup"],["formControlName","bpName",3,"name","label"]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"do-datatable",3),e.NdJ("onEdit",function(i){return o.onViewDetail(i)}),e.TgZ(4,"form",4),e._UZ(5,"do-input-text",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","header.job-placement-management")("hidefooter",!0),e.xp6(3),e.Q6J("api",o.apiPath)("formGroupFilter",o.formGroupFilter)("filters",o.filters)("sort",o.sort)("sortsDefault",o.sortsDefault)("selectionType",o.selectionType)("delete",!1)("add",!1)("columns",o.columns),e.xp6(1),e.Q6J("formGroup",o.formGroupFilter),e.xp6(1),e.Q6J("name","bpName")("label","Business Partner"))},directives:[y.e,E.I,l._Y,l.JL,l.sg,_.v,l.JJ,l.u],styles:[""]}),n})(),Mt=(()=>{class n{constructor(t,o){this.api=t,this.ref=o,this.columns=[{name:"Employee Name",prop:"user.fullname",frozenLeft:!0},{name:"NIK",prop:"idEmployee",width:50,frozenLeft:!0},{name:"Occupation",prop:"occupationName",frozenLeft:!0}],this.disabled=!0,this.selected=[],this.apiPath=this.api.security["datatable-employee"],this.sort={asc:["user.fullname"]},this.sortsDefault=[{prop:"user.fullname",dir:"asc"}]}ngOnInit(){}onSubmit(){this.ref.close(this.selected)}onReset(){this.ref.close()}onSelected(t){t&&t.length?(this.selected=t,this.disabled=!1):this.disabled=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.bl),e.Y36(s.X4l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-prompt"]],inputs:{education:"education"},decls:17,vars:17,consts:[[1,"modal-form"],[1,"row"],[1,"col-md-12","col-lg-12"],[3,"api","columns","sort","sortsDefault","edit","add","delete","onSelected"],[1,"row",2,"margin","auto","width","50%"],[2,"margin","auto"],["type","reset","status","danger","nbButton","",1,"reset-left",3,"click"],["type","submit","status","primary","nbButton","",1,"submit-right",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"nb-card",0),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e.TgZ(5,"div",1),e.TgZ(6,"div",2),e.TgZ(7,"do-datatable",3),e.NdJ("onSelected",function(i){return o.onSelected(i)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"nb-card-footer"),e.TgZ(9,"div",4),e.TgZ(10,"div",5),e.TgZ(11,"button",6),e.NdJ("click",function(){return o.onReset()}),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"button",7),e.NdJ("click",function(){return o.onSubmit()}),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,11,"header.employee-selection")," "),e.xp6(5),e.Q6J("api",o.apiPath)("columns",o.columns)("sort",o.sort)("sortsDefault",o.sortsDefault)("edit",!1)("add",!1)("delete",!1),e.xp6(5),e.hij(" ",e.lcZ(13,13,"Cancel")," "),e.xp6(2),e.Q6J("disabled",o.disabled),e.xp6(1),e.hij(" ",e.lcZ(16,15,"Choose")," "))},directives:[s.Asz,s.ndF,s.yKW,E.I,s.XWE,s.DPz],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:45rem;width:45rem!important}.nb-theme-default   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:0 .25rem}.nb-theme-default   [_nghost-%COMP%]   .reset-left[_ngcontent-%COMP%]{margin-right:.25rem}.nb-theme-default   [_nghost-%COMP%]   .submit-right[_ngcontent-%COMP%]{margin-left:.25rem}@media (max-width: 767.98px){.nb-theme-default   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-dark   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:45rem;width:45rem!important}.nb-theme-dark   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:0 .25rem}.nb-theme-dark   [_nghost-%COMP%]   .reset-left[_ngcontent-%COMP%]{margin-right:.25rem}.nb-theme-dark   [_nghost-%COMP%]   .submit-right[_ngcontent-%COMP%]{margin-left:.25rem}@media (max-width: 767.98px){.nb-theme-dark   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-cosmic   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:45rem;width:45rem!important}.nb-theme-cosmic   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:0 .25rem}.nb-theme-cosmic   [_nghost-%COMP%]   .reset-left[_ngcontent-%COMP%]{margin-right:.25rem}.nb-theme-cosmic   [_nghost-%COMP%]   .submit-right[_ngcontent-%COMP%]{margin-left:.25rem}@media (max-width: 767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-corporate   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:45rem;width:45rem!important}.nb-theme-corporate   [_nghost-%COMP%]   button[nbButton][_ngcontent-%COMP%]{margin:0 .25rem}.nb-theme-corporate   [_nghost-%COMP%]   .reset-left[_ngcontent-%COMP%]{margin-right:.25rem}.nb-theme-corporate   [_nghost-%COMP%]   .submit-right[_ngcontent-%COMP%]{margin-left:.25rem}@media (max-width: 767.98px){.nb-theme-corporate   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}"]}),n})();function pa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",6),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",7),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onDeleteAssignment(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,9,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle","Delete")("resetTitle","Cancel")("disabledButton",o.disabled)}}const ma=[{path:"",component:xt,canActivateChild:[x.Cy],children:[{path:"",component:Nt,data:{code:"#MANAGEMENT-JOB-PLACEMENT-PAGE"}},{path:"edit",component:(()=>{class n extends p.H6{constructor(t,o,a,i,d){super(t),this.injector=t,this.router=o,this.toastr=a,this.dialogService=i,this.jobPlacementService=d,this.loading=!1,this.disabled=!1,this.destroy$=new q.xQ,this.reload=!1,this.columns=[{name:"Employee Name",prop:"employee.fullname",frozenLeft:!0,sortable:!0},{name:"NIK",prop:"employee.idEmployee",frozenLeft:!0},{name:"Occupation",prop:"employee.occupation.name",frozenLeft:!0}],this.assignmentIds=[]}ngOnInit(){var t;this.jobPlacementService.getAssignmentGroup()?(this.apiPath=this.api.activity["datatable-assignment"],this.apiPathAdd=this.api.activity["post-assignment"],this.apiPathDelete=this.api.activity["delete-assignment"],this.sort={asc:["employee.fullname"]},this.sortsDefault=[{prop:"employee.fullname",dir:"asc"}],this.assignmentGroup=this.jobPlacementService.getAssignmentGroup(),this.loading=!0,this.keyword={assignmentGroupId:this.assignmentGroup.id},this.exec("master","get-business-partner",{id:null===(t=this.jobPlacementService.getAssignmentGroup())||void 0===t?void 0:t.bpId}).pipe((0,h.R)(this.destroy$)).subscribe(o=>{this.loading=!1,this.businessPartner=o},o=>{this.loading=!0,o instanceof I.UA&&(o=o.error),this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})):this.router.navigate(["/app/mgmt/job-placement"])}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.next(),this.destroy$.complete()}onAddAssignment(){this.dialogService.open(Mt).onClose.subscribe(t=>{if(t&&t.length){const o=[];t.forEach(i=>{o.push(i.id)});const a={id:this.assignmentGroup.id,bpId:this.assignmentGroup.bpId,employeeIds:o};this.disabled=!0,this.http.HTTP_AUTH(this.apiPathAdd,a).pipe((0,h.R)(this.destroy$)).subscribe(i=>{this.disabled=!1,this.reload=!0,this.assignmentGroup&&(this.assignmentGroup.id=i.respStatusMessage.assignmentGroupId),this.keyword={assignmentGroupId:i.respStatusMessage.assignmentGroupId},this.toastr.showI18n(i.respStatusMessage[i.respStatusCode],!0)},i=>{this.disabled=!1,this.toastr.showI18n(i.respStatusMessage[i.respStatusCode],!0,null,"danger")})}})}onDeleteAssignmentDialog(t,o){this.reload=!1,this.assignmentIds=[],t.forEach(a=>{this.assignmentIds.push(a.id)}),this.dialogService.open(o,{context:"alert.delete"})}onDeleteAssignment(t){this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDelete,{id:this.assignmentGroup.id,assignmentIds:this.assignmentIds}).pipe((0,h.R)(this.destroy$)).subscribe(a=>{this.disabled=!1,t.close(),this.reload=!0,this.toastr.showI18n(a.respStatusMessage[a.respStatusCode],!0)},a=>{this.disabled=!1,this.toastr.showI18n(a.respStatusMessage[a.respStatusCode],!0,null,"danger")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(u.F0),e.Y36(p.GL),e.Y36(s.Gln),e.Y36(ce))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-job-placement-edit-page"]],features:[e.qOj],decls:10,vars:37,consts:[[3,"header","url","hidefooter"],["pagecontent","",1,"row"],[1,"col-md-12","col-lg-12"],[3,"name","label","skeleton","content","colLabel","colContent","dividerlabel"],[3,"api","columns","filterFn","sort","reloadFn","edit","onAdd","onDelete"],["dialogdeleteassignment",""],["accent","danger"],[3,"colLabel","colButton","submitTitle","resetTitle","disabledButton","onReset","onSubmit"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"do-label-text",3),e._UZ(4,"do-label-text",3),e._UZ(5,"do-label-text",3),e._UZ(6,"do-label-text",3),e.TgZ(7,"do-datatable",4),e.NdJ("onAdd",function(){return o.onAddAssignment()})("onDelete",function(d){e.CHM(a);const m=e.MAs(9);return o.onDeleteAssignmentDialog(d,m)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(8,pa,9,11,"ng-template",null,5,e.W1O)}2&t&&(e.Q6J("header","header.job-placement-management")("url","/app/mgmt/job-placement")("hidefooter",!0),e.xp6(3),e.Q6J("name","bpName")("label","Business Partner")("skeleton",o.loading)("content",null==o.businessPartner?null:o.businessPartner.bpName)("colLabel",3)("colContent",9)("dividerlabel",!1),e.xp6(1),e.Q6J("name","email")("label","Email")("skeleton",o.loading)("content",null==o.businessPartner?null:o.businessPartner.email)("colLabel",3)("colContent",9)("dividerlabel",!1),e.xp6(1),e.Q6J("name","address")("label","Address")("skeleton",o.loading)("content",null==o.businessPartner?null:o.businessPartner.address)("colLabel",3)("colContent",9)("dividerlabel",!1),e.xp6(1),e.Q6J("name","telpNumber")("label","Telp.")("skeleton",o.loading)("content",null==o.businessPartner?null:o.businessPartner.telpNumber)("colLabel",3)("colContent",9)("dividerlabel",!1),e.xp6(1),e.Q6J("api",o.apiPath)("columns",o.columns)("filterFn",o.keyword)("sort",o.sort)("reloadFn",o.reload)("edit",!1))},directives:[y.e,H.i,E.I,s.Asz,s.ndF,s.yKW,s.XWE,C.r],pipes:[b.X$],styles:[""]}),n})(),data:{code:"#MANAGEMENT-JOB-PLACEMENT-PAGE"}},{path:"",redirectTo:"",pathMatch:"full"}]}];let ua=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(ma)],u.Bz]}),n})();const ca=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.oGl,s.j7H.forChild(),s.EoG,s.uuI,M.uX,p.Gp,p.K1,p._s,p.B0,p.DG,p.Qz,p.US,ua],ha=[ce];let fa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...ha],imports:[[...ca]]}),n})(),kt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-profile"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[u.lC],encapsulation:2}),n})();var ga=f(1223),ba=f(6063);const _a=function(){return{value:5}};let Ot=(()=>{class n extends p.o9{constructor(t,o,a,i){super(t,{username:[{value:null,disabled:!0}],name:[],idNumber:[],placeOfBirth:[],dateOfBirth:[],gender:[],height:[],weight:[],bloodType:[],email:[],phoneNumber:[],address:[null,[l.kI.minLength(5)]],country:[],province:[],city:[],district:[],subDistrict:[]}),this.injector=t,this.userService=o,this.profileIndexedDB=a,this.authIndexedDB=i,this.patternEmail=c.cf.EMAIL,this.patternPhoneNumber=c.cf.PHONE_NUMBER,this.patternFullname=c.cf.FULLNAME,this.minLength=5,this.disabledUpload=!1,this.provider="local",this.bloodTypeData=[{label:"A",value:"A",disabled:!1},{label:"B",value:"B",disabled:!1},{label:"AB",value:"AB",disabled:!1},{label:"O",value:"O",disabled:!1}],this.formGroupImage=this.formBuilder.group({image:[]}),this.apiSelectGender=this.api.master["select-parameter"],this.apiSelectCountry=this.api.master["select-country"],this.apiSelectProvince=this.api.master["select-province"],this.apiSelectCity=this.api.master["select-city"],this.apiSelectDistrict=this.api.master["select-district"],this.apiSelectSubDistrict=this.api.master["select-subdistrict"],this.authIndexedDB.getEnc("provider").then(d=>{"local"!==d&&(this.provider=d,this.formGroup.controls.email.disable())}),this.profileIndexedDB.get("image-base64").then(d=>{this.formGroupImage.get("image").setValue(d),this.formGroupImage.markAsPending()}),this.paramSelectGender=[{key:"parameterGroupCode",value:"GENDER"}],this.paramSelectProvince=[{key:"country",value:"undefined"}],this.paramSelectCity=[{key:"province",value:"undefined"}],this.paramSelectDistrict=[{key:"city",value:"undefined"}],this.paramSelectSubDistrict=[{key:"district",value:"undefined"}]}ngOnInit(){}loadDataMenu(){return this.loadingForm=!0,this.exec("profile","get-profile").pipe((0,G.U)(t=>{var o,a,i,d,m,g,v,Z,T,k,w,N,D,ge,be,_e,Ce,ve,ye,Te,Pe,Se,Ae,Ee,Ze,xe,Ne,Me,Ge,ke,Oe,Ie;this.loadingForm=!1,this.formGroup.controls.name.setValue(t.name),this.formGroup.controls.username.setValue(t.username),this.formGroup.controls.email.setValue(t.email),(null==t?void 0:t.personalInfo)&&(this.formGroup.controls.idNumber.setValue(null===(o=null==t?void 0:t.personalInfo)||void 0===o?void 0:o.idNumber),(null===(a=null==t?void 0:t.personalInfo)||void 0===a?void 0:a.genderCode)&&this.formGroup.controls.gender.setValue({label:null==t?void 0:t.personalInfo.genderValue,value:null==t?void 0:t.personalInfo.genderCode}),this.formGroup.controls.placeOfBirth.setValue(null===(i=null==t?void 0:t.personalInfo)||void 0===i?void 0:i.placeOfBirth),(null===(d=null==t?void 0:t.personalInfo)||void 0===d?void 0:d.dateOfBirth)&&this.formGroup.controls.dateOfBirth.setValue(null===(m=null==t?void 0:t.personalInfo)||void 0===m?void 0:m.dateOfBirth),this.formGroup.controls.height.setValue(null===(g=null==t?void 0:t.personalInfo)||void 0===g?void 0:g.height),this.formGroup.controls.weight.setValue(null===(v=null==t?void 0:t.personalInfo)||void 0===v?void 0:v.weight),this.formGroup.controls.bloodType.setValue({value:null===(Z=null==t?void 0:t.personalInfo)||void 0===Z?void 0:Z.bloodType,label:null===(T=null==t?void 0:t.personalInfo)||void 0===T?void 0:T.bloodType})),(null==t?void 0:t.contact)&&((null===(k=null==t?void 0:t.contact)||void 0===k?void 0:k.address)&&this.formGroup.controls.address.setValue(null===(w=null==t?void 0:t.contact)||void 0===w?void 0:w.address),(null===(N=null==t?void 0:t.contact)||void 0===N?void 0:N.phoneNumber)&&this.formGroup.controls.phoneNumber.setValue(null===(D=null==t?void 0:t.contact)||void 0===D?void 0:D.phoneNumber),(null===(ge=null==t?void 0:t.contact)||void 0===ge?void 0:ge.country)&&(this.formGroup.controls.country.setValue({label:null===(be=null==t?void 0:t.contact)||void 0===be?void 0:be.country,value:null===(_e=null==t?void 0:t.contact)||void 0===_e?void 0:_e.countryCode}),this.paramSelectProvince=[{key:"country",value:null===(Ce=null==t?void 0:t.contact)||void 0===Ce?void 0:Ce.countryCode}]),(null===(ve=null==t?void 0:t.contact)||void 0===ve?void 0:ve.province)&&(this.formGroup.controls.province.setValue({label:null===(ye=null==t?void 0:t.contact)||void 0===ye?void 0:ye.province,value:null===(Te=null==t?void 0:t.contact)||void 0===Te?void 0:Te.provinceCode}),this.paramSelectCity=[{key:"province",value:null===(Pe=null==t?void 0:t.contact)||void 0===Pe?void 0:Pe.provinceCode}]),(null===(Se=null==t?void 0:t.contact)||void 0===Se?void 0:Se.city)&&(this.formGroup.controls.city.setValue({label:null===(Ae=null==t?void 0:t.contact)||void 0===Ae?void 0:Ae.city,value:null===(Ee=null==t?void 0:t.contact)||void 0===Ee?void 0:Ee.cityCode}),this.paramSelectDistrict=[{key:"city",value:null===(Ze=null==t?void 0:t.contact)||void 0===Ze?void 0:Ze.cityCode}]),(null===(xe=null==t?void 0:t.contact)||void 0===xe?void 0:xe.district)&&(this.formGroup.controls.district.setValue({label:null===(Ne=null==t?void 0:t.contact)||void 0===Ne?void 0:Ne.district,value:null===(Me=null==t?void 0:t.contact)||void 0===Me?void 0:Me.districtCode}),this.paramSelectSubDistrict=[{key:"district",value:null===(Ge=null==t?void 0:t.contact)||void 0===Ge?void 0:Ge.districtCode}]),(null===(ke=null==t?void 0:t.contact)||void 0===ke?void 0:ke.subDistrict)&&this.formGroup.controls.subDistrict.setValue({label:null===(Oe=null==t?void 0:t.contact)||void 0===Oe?void 0:Oe.subDistrict,value:null===(Ie=null==t?void 0:t.contact)||void 0===Ie?void 0:Ie.subDistrictCode})),this.authIndexedDB.getEnc("provider").then(qt=>{"local"!==qt&&(this.provider=qt,this.formGroup.controls.email.disable())}),this.formGroup.markAsPristine()}))}onSelectCountry(t){this.paramSelectProvince=[{key:"country",value:t?t.value:"undefined"}],this.onClearProvince()}onSelectProvince(t){this.paramSelectCity=[{key:"province",value:t?t.value:"undefined"}],this.onClearProvince()}onSelectCity(t){this.paramSelectDistrict=[{key:"city",value:t?t.value:"undefined"}],this.onClearCity()}onSelectDistrict(t){this.paramSelectSubDistrict=[{key:"district",value:t?t.value:"undefined"}],this.onClearDistrict()}onClearCountry(){this.formGroup.patchValue({province:null,city:null,district:null,subDistrict:null})}onClearProvince(){this.formGroup.patchValue({city:null,district:null,subDistrict:null})}onClearCity(){this.formGroup.patchValue({district:null,subDistrict:null})}onClearDistrict(){this.formGroup.patchValue({subDistrict:null})}uploadImage(){const t=this.formGroupImage.get("image").value,o=new FormData;o.append("photo",t),this.formGroupImage.get("image").disable(),this.initProgress(),this.setProgress(65),this.exec("profile","upload-photo-profile",o).subscribe(a=>{this.setProgress(95),this.userService.updatePhoto(a.respStatusMessage.checksum),this.uploadFinished=!0,this.formGroupImage.markAsPristine(),this.toastr.showI18n(a.respStatusMessage[a.respStatusCode],!0,null,"success"),this.doneProgress()},a=>{this.formGroupImage.get("image").enable(),this.toastr.showI18n(a.respStatusMessage[a.respStatusCode],!0,null,"danger"),this.doneProgress()})}valueSelect(t){return this.formGroup.get(t).value?this.formGroup.get(t).value.label?this.formGroup.get(t).value.label:this.formGroup.get(t).value:null}valueSelectNonLabel(t){return this.formGroup.get(t).value&&this.formGroup.get(t).value.value?this.formGroup.get(t).value.value:null}onSubmit(){var t;const o={phoneNumber:this.formGroup.get("phoneNumber").value,address:this.formGroup.get("address").value,country:this.valueSelect("country"),countryCode:this.valueSelectNonLabel("country"),province:this.valueSelect("province"),provinceCode:this.valueSelectNonLabel("province"),city:this.valueSelect("city"),cityCode:this.valueSelectNonLabel("city"),district:this.valueSelect("district"),districtCode:this.valueSelectNonLabel("district"),subDistrict:this.valueSelect("subDistrict"),subDistrictCode:this.valueSelectNonLabel("subDistrict")},a={idNumber:this.formGroup.get("idNumber").value,placeOfBirth:this.formGroup.get("placeOfBirth").value,dateOfBirth:this.formGroup.get("dateOfBirth").value,genderCode:this.valueSelectNonLabel("gender"),genderValue:this.valueSelect("gender"),height:this.formGroup.get("height").value,weight:this.formGroup.get("weight").value,bloodType:null===(t=this.formGroup.get("bloodType").value)||void 0===t?void 0:t.value},i={name:this.formGroup.get("name").value,contact:o,personalInfo:a};"local"===this.provider&&(i.email=this.formGroup.get("email").value),super.onSubmit(i,"profile","change-profile").pipe((0,h.R)(this.destroy$)).subscribe(d=>{if(d)switch(d.respStatusCode){case c.Q4.ERR_SCR0008.toString():this.formGroup.controls.email.setErrors({email:!0});break;case c.Q4.ERR_SCR0007A.toString():this.formGroup.controls.phoneNumber.setErrors({"error.pattern.phoneNumber":!0});break;case c.Q4.OK_SCR004.toString():this.userService.updateName(this.formGroup.get("name").value)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(c.Mh),e.Y36(c.hX),e.Y36(x.Pc))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-profile-personal-information"]],features:[e.qOj],decls:27,vars:100,consts:[[1,"row"],[1,"col-md-4","col-lg-4"],[3,"formGroup"],["formControlName","image",3,"radius","skeleton","required","uploadFn"],[1,"upload-bg",3,"name","formGroupButton","disabledButton","skeleton","onSubmit"],["icon","cloud-upload-outline","pack","eva","buttonicon","",1,"upload-icon"],[1,"accordion-container","col-md-8","col-lg-8"],["formControlName","name",3,"name","label","required","skeleton"],["formControlName","email",3,"name","label","required","pattern","paramError","skeleton"],["formControlName","username",3,"name","label","required","skeleton"],["formControlName","idNumber",3,"name","label","required","skeleton"],["formControlName","gender",3,"name","label","required","api","queryParam","searchable","skeleton"],["formControlName","placeOfBirth",3,"name","label","required","skeleton"],["formControlName","dateOfBirth",3,"name","label","required","skeleton"],["formControlName","height",3,"name","label","placeholder","type","step","skeleton"],["formControlName","weight",3,"name","label","placeholder","type","step","skeleton"],["formControlName","bloodType",3,"name","label","placeholder","items","searchable","skeleton"],["formControlName","phoneNumber",3,"name","label","required","pattern","skeleton"],["formControlName","address",3,"name","label","required","minLength","skeleton"],["formControlName","country",3,"name","label","api","skeleton","onSelect","onClear"],["formControlName","province",3,"name","label","api","queryParam","skeleton","onSelect","onClear"],["formControlName","city",3,"name","label","api","queryParam","skeleton","onSelect","onClear"],["formControlName","district",3,"name","label","api","queryParam","skeleton","onSelect","onClear"],["formControlName","subDistrict",3,"name","label","api","queryParam","skeleton"],[1,"offset-sm-3","col-sm-9"],[3,"name","disabledButton","formGroupButton","skeleton","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e._UZ(3,"do-image-upload",3),e.TgZ(4,"do-button",4),e.NdJ("onSubmit",function(){return o.uploadImage()}),e._UZ(5,"nb-icon",5),e.qZA(),e.qZA(),e.qZA(),e.TgZ(6,"div",6),e.TgZ(7,"form",2),e._UZ(8,"do-input-text",7),e._UZ(9,"do-input-text",8),e._UZ(10,"do-input-text",9),e._UZ(11,"do-input-text",10),e._UZ(12,"do-select",11),e._UZ(13,"do-input-text",12),e._UZ(14,"do-datepicker",13),e._UZ(15,"do-input-text",14),e._UZ(16,"do-input-text",15),e._UZ(17,"do-select",16),e._UZ(18,"do-input-text",17),e._UZ(19,"do-textarea",18),e.TgZ(20,"do-select",19),e.NdJ("onSelect",function(i){return o.onSelectCountry(i)})("onClear",function(){return o.onClearCountry()}),e.qZA(),e.TgZ(21,"do-select",20),e.NdJ("onSelect",function(i){return o.onSelectProvince(i)})("onClear",function(){return o.onClearProvince()}),e.qZA(),e.TgZ(22,"do-select",21),e.NdJ("onSelect",function(i){return o.onSelectCity(i)})("onClear",function(){return o.onClearCity()}),e.qZA(),e.TgZ(23,"do-select",22),e.NdJ("onSelect",function(i){return o.onSelectDistrict(i)})("onClear",function(){return o.onClearDistrict()}),e.qZA(),e._UZ(24,"do-select",23),e.TgZ(25,"div",24),e.TgZ(26,"do-button",25),e.NdJ("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",o.formGroupImage),e.xp6(1),e.Q6J("radius",50)("skeleton",o.loadingForm)("required",!0)("uploadFn",o.uploadFinished),e.xp6(1),e.Q6J("name","Upload")("formGroupButton",o.formGroupImage)("disabledButton",o.formGroupImage.pristine)("skeleton",o.loadingForm),e.xp6(3),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","name")("label","Name")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","email")("label","Email")("required",!0)("pattern",o.patternEmail)("paramError",e.DdM(99,_a))("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","username")("label","Username")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","idNumber")("label","ID Number")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","gender")("label","Gender")("required",!0)("api",o.apiSelectGender)("queryParam",o.paramSelectGender)("searchable",!1)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","placeOfBirth")("label","Place of Birth")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","dateOfBirth")("label","Date of Birth")("required",!0)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","height")("label","height.body")("placeholder","Centimeter")("type","number")("step","any")("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","weight")("label","weight.body")("placeholder","Kilogram")("type","number")("step","any")("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","bloodType")("label","Blood Type")("placeholder","Blood Type")("items",o.bloodTypeData)("searchable",!1)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","phoneNumber")("label","Telephone")("required",!0)("pattern",o.patternPhoneNumber)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","address")("label","Address")("required",!0)("minLength",o.minLength)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","country")("label","Country")("api",o.apiSelectCountry)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","province")("label","Province")("api",o.apiSelectProvince)("queryParam",o.paramSelectProvince)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","city")("label","City")("api",o.apiSelectCity)("queryParam",o.paramSelectCity)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","district")("label","District")("api",o.apiSelectDistrict)("queryParam",o.paramSelectDistrict)("skeleton",o.loadingForm),e.xp6(1),e.Q6J("name","subDistrict")("label","Sub District")("api",o.apiSelectSubDistrict)("queryParam",o.paramSelectSubDistrict)("skeleton",o.loadingForm),e.xp6(2),e.Q6J("name","Update")("disabledButton",o.disabled)("formGroupButton",o.formGroup)("skeleton",o.loadingForm))},directives:[l._Y,l.JL,l.sg,ga.J,l.JJ,l.u,l.Q7,ba.q,s.fMN,_.v,l.c5,O.r,le.T,L.j],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-default   [_nghost-%COMP%]   .upload-bg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.nb-theme-dark   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-dark   [_nghost-%COMP%]   .upload-bg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.nb-theme-cosmic   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-cosmic   [_nghost-%COMP%]   .upload-bg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.nb-theme-corporate   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-corporate   [_nghost-%COMP%]   .upload-bg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})(),he=(()=>{class n{constructor(t,o,a){this.ref=a,this.action="Add",this.formGroup=o.group({educationalLevel:[],school:[],startYear:[],endYear:[]}),this.apiSelectEducationalLevel=t.master["select-parameter"],this.paramSelectEducationalLevel=[{key:"parameterGroupCode",value:"EDUCATIONAL_LEVEL"},{key:"parameterCodeNotIn",value:"EDUCATIONAL_LEVEL.NO_EDUCATION"}]}ngOnInit(){this.education?(this.action="Edit",this.formGroup.get("educationalLevel").setValue({label:this.education.educationalLevel,value:this.education.educationalLevelCode}),this.formGroup.get("educationalLevel").disable({onlySelf:!0}),this.formGroup.get("school").setValue(this.education.schoolName),this.formGroup.get("startYear").setValue(this.education.startYear),this.formGroup.get("endYear").setValue(this.education.endYear)):this.action="Add"}onSubmit(){var t,o;const a={education:{id:null===(t=this.education)||void 0===t?void 0:t.id,educationalLevel:null===(o=this.formGroup.get("educationalLevel").value)||void 0===o?void 0:o.value,schoolName:this.formGroup.get("school").value,startYear:this.formGroup.get("startYear").value,endYear:this.formGroup.get("endYear").value}};this.ref.close(a)}onReset(){this.ref.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.bl),e.Y36(l.qu),e.Y36(s.X4l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-profile-education-formal-prompt"]],inputs:{education:"education"},decls:14,vars:25,consts:[[1,"modal-form"],[1,"row"],[1,"col-md-12","col-lg-12"],["autocomplete","on",1,"form-horizontal",3,"formGroup"],["formControlName","educationalLevel",3,"name","label","placeholder","required","api","queryParam","searchable"],["formControlName","school",3,"name","label","placeholder"],["formControlName","startYear",3,"name","label","placeholder","type"],["formControlName","endYear",3,"name","label","placeholder","type"],[3,"submitTitle","resetTitle","formGroupButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"nb-card",0),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e.TgZ(5,"div",1),e.TgZ(6,"div",2),e.TgZ(7,"form",3),e._UZ(8,"do-select",4),e._UZ(9,"do-input-text",5),e._UZ(10,"do-input-text",6),e._UZ(11,"do-input-text",7),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"nb-card-footer"),e.TgZ(13,"do-button-submit",8),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,23,"header."+o.action+"-education-formal")," "),e.xp6(5),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","educationalLevel")("label","Educational Level")("placeholder","Educational Level")("required",!0)("api",o.apiSelectEducationalLevel)("queryParam",o.paramSelectEducationalLevel)("searchable",!1),e.xp6(1),e.Q6J("name","school")("label","School")("placeholder","School"),e.xp6(1),e.Q6J("name","startYear")("label","Start Year")("placeholder","Start Year")("type","number"),e.xp6(1),e.Q6J("name","endYear")("label","End Year")("placeholder","End Year")("type","number"),e.xp6(2),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup))},directives:[s.Asz,s.ndF,s.yKW,l._Y,l.JL,l.sg,O.r,l.JJ,l.u,l.Q7,_.v,s.XWE,C.r],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-default   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-dark   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-dark   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-cosmic   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-corporate   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-corporate   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}"]}),n})(),fe=(()=>{class n{constructor(t,o,a){this.ref=a,this.action="Add",this.formGroup=o.group({trainingName:[],trainingDate:[]})}ngOnInit(){this.training?(this.action="Edit",this.formGroup.get("trainingName").setValue(this.training.name),this.formGroup.get("trainingDate").setValue({start:this.training.startDate,end:this.training.endDate})):this.action="Add"}onSubmit(){var t,o,a;const i={training:{id:null===(t=this.training)||void 0===t?void 0:t.id,name:this.formGroup.get("trainingName").value,startDate:null===(o=this.formGroup.get("trainingDate").value)||void 0===o?void 0:o.start,endDate:null===(a=this.formGroup.get("trainingDate").value)||void 0===a?void 0:a.end}};this.ref.close(i)}onReset(){this.ref.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(c.bl),e.Y36(l.qu),e.Y36(s.X4l))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-profile-education-nonformal-prompt"]],inputs:{training:"training"},decls:12,vars:14,consts:[[1,"modal-form"],[1,"row"],[1,"col-md-12","col-lg-12"],["autocomplete","on",1,"form-horizontal",3,"formGroup"],["formControlName","trainingName",3,"name","label","required","placeholder"],["formControlName","trainingDate",3,"name","label","placeholder"],[3,"submitTitle","resetTitle","formGroupButton","onReset","onSubmit"]],template:function(t,o){1&t&&(e.TgZ(0,"nb-card",0),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e.TgZ(5,"div",1),e.TgZ(6,"div",2),e.TgZ(7,"form",3),e._UZ(8,"do-input-text",4),e._UZ(9,"do-datepicker-range",5),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"nb-card-footer"),e.TgZ(11,"do-button-submit",6),e.NdJ("onReset",function(){return o.onReset()})("onSubmit",function(){return o.onSubmit()}),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,12,"header."+o.action+"-education-nonformal")," "),e.xp6(5),e.Q6J("formGroup",o.formGroup),e.xp6(1),e.Q6J("name","trainingName")("label","Training Name")("required",!0)("placeholder","Training Name"),e.xp6(1),e.Q6J("name","trainingDate")("label","Training Date")("placeholder","Training Date"),e.xp6(2),e.Q6J("submitTitle",o.action)("resetTitle","Cancel")("formGroupButton",o.formGroup))},directives:[s.Asz,s.ndF,s.yKW,l._Y,l.JL,l.sg,_.v,l.JJ,l.u,l.Q7,pe.a,s.XWE,C.r],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-default   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-dark   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-dark   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-cosmic   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-cosmic   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}.nb-theme-corporate   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{max-width:40rem;width:40rem!important}@media (max-width: 767.98px){.nb-theme-corporate   [_nghost-%COMP%]   .modal-form[_ngcontent-%COMP%]{width:100%!important}}"]}),n})();function Ca(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",8),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",9),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onDeleteEducation(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,9,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle","Delete")("resetTitle","Cancel")("disabledButton",o.disabled)}}function va(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"nb-card",8),e.TgZ(1,"nb-card-header"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"nb-card-body"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"nb-card-footer"),e.TgZ(8,"do-button-submit",9),e.NdJ("onReset",function(){return e.CHM(t).dialogRef.close()})("onSubmit",function(){const i=e.CHM(t).dialogRef;return e.oxw().onDeleteTraining(i)}),e.qZA(),e.qZA(),e.qZA()}if(2&n){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"Warning")),e.xp6(3),e.Oqu(e.lcZ(6,9,t)),e.xp6(3),e.Q6J("colLabel",0)("colButton",12)("submitTitle","Delete")("resetTitle","Cancel")("disabledButton",o.disabled)}}let It=(()=>{class n extends p.o9{constructor(t,o){super(t),this.dialogService=o,this.reloadEducation=!1,this.reloadTraining=!1,this.columnsEducation=[{name:"Level",prop:"educationalLevel",frozenLeft:!0},{name:"School",prop:"schoolName",frozenLeft:!0},{name:"Year",prop:"startYear",frozenLeft:!0}],this.columnsTraining=[{name:"Training Name",prop:"name",frozenLeft:!0},{name:"Start Date",prop:"startDate",frozenLeft:!0},{name:"End Date",prop:"endDate",frozenLeft:!0}],this.educationIds=[],this.trainingIds=[],this.loadingSubject$=new q.xQ,this.apiPathEducation=this.api.profile["get-profile-education-employee"],this.apiPathTraining=this.api.profile["get-profile-training-employee"],this.apiPathDeleteEducation=this.api.profile["delete-profile-employee-education"],this.apiPathDeleteTraining=this.api.profile["delete-profile-employee-training"],this.sortEducation={desc:["startYear"]},this.sortTraining={desc:["startDate"]}}ngOnInit(){}loadDataMenu(){return this.reloadEducation=!0,this.reloadTraining=!0,this.loadingSubject$.asObservable()}ngOnDestroy(){}onAddEducation(){this.reloadEducation=!1,this.dialogService.open(he).onClose.subscribe(t=>{t&&super.onSubmit(t,"profile","post-profile-employee-education").pipe((0,h.R)(this.destroy$)).subscribe(o=>{o.respStatusCode===c.Q4.OK_DEFAULT.toString()&&(this.reloadEducation=!0)})})}onAddTraining(){this.reloadTraining=!1,this.dialogService.open(fe).onClose.subscribe(t=>{t&&super.onSubmit(t,"profile","post-profile-employee-training").pipe((0,h.R)(this.destroy$)).subscribe(o=>{o.respStatusCode===c.Q4.OK_DEFAULT.toString()&&(this.reloadTraining=!0)})})}onEditEducation(t){this.reloadEducation=!1,this.dialogService.open(he,{context:{education:t}}).onClose.subscribe(o=>{o&&super.onSubmit(o,"profile","post-profile-employee-education").pipe((0,h.R)(this.destroy$)).subscribe(a=>{a.respStatusCode===c.Q4.OK_DEFAULT.toString()&&(this.reloadEducation=!0)})})}onEditTraining(t){this.reloadTraining=!1,this.dialogService.open(fe,{context:{training:t}}).onClose.subscribe(o=>{o&&super.onSubmit(o,"profile","post-profile-employee-training").pipe((0,h.R)(this.destroy$)).subscribe(a=>{a.respStatusCode===c.Q4.OK_DEFAULT.toString()&&(this.reloadTraining=!0)})})}onDeleteEducationDialog(t,o){this.reloadEducation=!1,this.educationIds=[],t.forEach(a=>{this.educationIds.push(a.id)}),this.dialogService.open(o,{context:"alert.delete"})}onDeleteTrainingDialog(t,o){this.reloadTraining=!1,this.trainingIds=[],t.forEach(a=>{this.trainingIds.push(a.id)}),this.dialogService.open(o,{context:"alert.delete"})}onDeleteEducation(t){this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDeleteEducation,this.educationIds).pipe((0,h.R)(this.destroy$)).subscribe(o=>{this.disabled=!1,t.close(),this.reloadEducation=!0,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0)},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}onDeleteTraining(t){this.disabled=!0,this.http.HTTP_AUTH(this.apiPathDeleteTraining,this.trainingIds).pipe((0,h.R)(this.destroy$)).subscribe(o=>{t.close(),this.reloadTraining=!0,this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0)},o=>{this.disabled=!1,this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}onLoadEducation(){this.loadingSubject$.next(!0)}onLoadTraining(){this.loadingSubject$.next(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(s.Gln))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-profile-education"]],features:[e.qOj],decls:20,vars:20,consts:[[1,"row"],[1,"col-md-12","col-lg-12"],[1,"accordion-container"],["multi",""],[3,"expanded"],[3,"api","columns","filterFn","sort","startWithOpenData","reloadFn","onLoading","onEdit","onAdd","onDelete"],["dialogdeleteeducation",""],["dialogdeletetraining",""],["accent","danger"],[3,"colLabel","colButton","submitTitle","resetTitle","disabledButton","onReset","onSubmit"]],template:function(t,o){if(1&t){const a=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"nb-accordion",3),e.TgZ(4,"nb-accordion-item",4),e.TgZ(5,"nb-accordion-item-header"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"nb-accordion-item-body"),e.TgZ(9,"do-datatable",5),e.NdJ("onLoading",function(){return o.onLoadEducation()})("onEdit",function(d){return o.onEditEducation(d)})("onAdd",function(){return o.onAddEducation()})("onDelete",function(d){e.CHM(a);const m=e.MAs(17);return o.onDeleteEducationDialog(d,m)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(10,"nb-accordion-item",4),e.TgZ(11,"nb-accordion-item-header"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"nb-accordion-item-body"),e.TgZ(15,"do-datatable",5),e.NdJ("onLoading",function(){return o.onLoadTraining()})("onEdit",function(d){return o.onEditTraining(d)})("onAdd",function(){return o.onAddTraining()})("onDelete",function(d){e.CHM(a);const m=e.MAs(19);return o.onDeleteTrainingDialog(d,m)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(16,Ca,9,11,"ng-template",null,6,e.W1O),e.YNc(18,va,9,11,"ng-template",null,7,e.W1O)}2&t&&(e.xp6(4),e.Q6J("expanded",!0),e.xp6(2),e.hij(" ",e.lcZ(7,16,"Formal Education")," "),e.xp6(3),e.Q6J("api",o.apiPathEducation)("columns",o.columnsEducation)("filterFn",o.keyword)("sort",o.sortEducation)("startWithOpenData",!1)("reloadFn",o.reloadEducation),e.xp6(1),e.Q6J("expanded",!0),e.xp6(2),e.hij(" ",e.lcZ(13,18,"Non Formal Education")," "),e.xp6(3),e.Q6J("api",o.apiPathTraining)("columns",o.columnsTraining)("filterFn",o.keyword)("sort",o.sortTraining)("startWithOpenData",!1)("reloadFn",o.reloadTraining))},directives:[s.qCO,s.SaG,s.YZd,s.AvE,E.I,s.Asz,s.ndF,s.yKW,s.XWE,C.r],pipes:[b.X$],styles:[".nb-theme-default   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-dark   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-cosmic   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}.nb-theme-corporate   [_nghost-%COMP%]   nb-accordion[_ngcontent-%COMP%]{box-shadow:unset}"]}),n})(),wt=(()=>{class n extends p.o9{constructor(t){super(t),this.injector=t,this.loadingForm=!1}ngOnInit(){}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete(),this.destroy$.unsubscribe()}loadDataMenu(){return this.loadingForm=!0,this.exec("profile","get-profile-employee-status").pipe((0,G.U)(t=>{this.loadingForm=!1,this.dataEmployeeStatus=t}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-profile-employee-status"]],features:[e.qOj],decls:5,vars:18,consts:[[1,"row"],[1,"col-md-12","col-lg-12"],[3,"label","colLabel","colContent","dividerlabel","skeleton","content"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"do-label-text",2),e._UZ(3,"do-label-text",2),e._UZ(4,"do-label-text",2),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("label","NIK")("colLabel",3)("colContent",9)("dividerlabel",!1)("skeleton",o.loadingForm)("content",null==o.dataEmployeeStatus?null:o.dataEmployeeStatus.idEmployee),e.xp6(1),e.Q6J("label","Occupation")("colLabel",3)("colContent",9)("dividerlabel",!1)("skeleton",o.loadingForm)("content",null==o.dataEmployeeStatus||null==o.dataEmployeeStatus.occupation?null:o.dataEmployeeStatus.occupation.name),e.xp6(1),e.Q6J("label","Supervisor")("colLabel",3)("colContent",9)("dividerlabel",!1)("skeleton",o.loadingForm)("content",null==o.dataEmployeeStatus?null:o.dataEmployeeStatus.parentLabel))},directives:[H.i],styles:[""]}),n})();const ya=["personalInfo"],Ta=["education"],Pa=["employeeStatus"];const Sa=[{path:"",component:kt,canActivateChild:[x.Cy],children:[{path:"",component:(()=>{class n extends p.H6{constructor(t,o){super(t),this.injector=t,this.toastr=o,this.loading=!1,this.tab="personalInfo",this.destroy$=new q.xQ}ngOnInit(){}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.next(),this.destroy$.complete()}toggleLoadingAnimation(t){this.tab=t.tabId,this.loading=!0,"personalInfo"===this.tab?this.personalInfo.loadDataMenu().pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1},o=>{o instanceof I.UA&&(o=o.error),this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")}):"education"===this.tab?this.education.loadDataMenu().pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1},o=>{o instanceof I.UA&&(o=o.error),this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")}):this.employeeStatus.loadDataMenu().pipe((0,h.R)(this.destroy$)).subscribe(()=>{this.loading=!1},o=>{o instanceof I.UA&&(o=o.error),this.toastr.showI18n(o.respStatusMessage[o.respStatusCode],!0,null,"danger")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.zs3),e.Y36(p.GL))},n.\u0275cmp=e.Xpm({type:n,selectors:[["do-employee-profile-page"]],viewQuery:function(t,o){if(1&t&&(e.Gf(ya,7),e.Gf(Ta,7),e.Gf(Pa,7)),2&t){let a;e.iGM(a=e.CRH())&&(o.personalInfo=a.first),e.iGM(a=e.CRH())&&(o.education=a.first),e.iGM(a=e.CRH())&&(o.employeeStatus=a.first)}},features:[e.qOj],decls:14,vars:12,consts:[[3,"header","hidefooter"],["fullWidth","","pagecontent","",3,"changeTab"],["tabId","personalInfo",3,"tabTitle","lazyLoad"],["personalInfo",""],["tabId","education",3,"tabTitle"],["education",""],["tabId","employeeStatus",3,"tabTitle"],["employeeStatus",""]],template:function(t,o){1&t&&(e.TgZ(0,"do-page-outlet",0),e.TgZ(1,"nb-tabset",1),e.NdJ("changeTab",function(i){return o.toggleLoadingAnimation(i)}),e.TgZ(2,"nb-tab",2),e.ALo(3,"translate"),e._UZ(4,"do-employee-profile-personal-information",null,3),e.qZA(),e.TgZ(6,"nb-tab",4),e.ALo(7,"translate"),e._UZ(8,"do-employee-profile-education",null,5),e.qZA(),e.TgZ(10,"nb-tab",6),e.ALo(11,"translate"),e._UZ(12,"do-employee-profile-employee-status",null,7),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.Q6J("header","Profile")("hidefooter",!0),e.xp6(2),e.s9C("tabTitle",e.lcZ(3,6,"tab.personal-info")),e.Q6J("lazyLoad",!0),e.xp6(4),e.s9C("tabTitle",e.lcZ(7,8,"tab.education")),e.xp6(4),e.s9C("tabTitle",e.lcZ(11,10,"tab.employee-status")))},directives:[y.e,s.kyn,s.TR4,Ot,It,wt],pipes:[b.X$],styles:[""]}),n})(),data:{code:"#EMPLOYEE-PROFILE-PAGE"}},{path:"",redirectTo:"",pathMatch:"full"}]}];let Aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(Sa)],u.Bz]}),n})();const Ea=[l.u5,l.UX,b.aw,s.zyh,s.PYG,s.KdK,s.T2N,s.oGl,s.j7H.forChild(),s.EoG,s.uuI,M.uX,p.Gp,p.K1,p._s,p.B0,p.DG,p.Qz,p.xj,p.US,p.Mu,p.Ec,Aa],Za=[];let xa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[...Za],imports:[[...Ea]]}),n})()}}]);